"use strict";(self["webpackChunkbook_02"]=self["webpackChunkbook_02"]||[]).push([[775],{8775:function(e,a,o){o.r(a),o.d(a,{default:function(){return d}});var s=o(3396);const t=(0,s._)("span",null,"上传头像",-1),r=["src"],l={key:1,class:"el-icon-plus avatar-uploader-icon"};function n(e,a,o,n,c,i){const u=(0,s.up)("el-upload");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{class:"avatar-uploader",action:"http://localhost:8080/Upload","show-file-list":!1,"on-success":i.handleAvatarSuccess,"before-upload":i.beforeAvatarUpload,headers:i.headersJWT},{default:(0,s.w5)((()=>[t,c.imageUrl?((0,s.wg)(),(0,s.iD)("img",{key:0,src:c.imageUrl,class:"avatar",alt:"头像图片"},null,8,r)):((0,s.wg)(),(0,s.iD)("i",l))])),_:1},8,["on-success","before-upload","headers"])])}var c={name:"UploadImg",data(){return{imageUrl:"",image:""}},methods:{handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),console.log(this.imageUrl),console.log(e),this.image=e.data,this.$emit(" handleDataFromChild",this.image),console.log(e.data),console.log(e.data)},beforeAvatarUpload(e){const a="image/jpeg"===e.type,o=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),o||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&o}},computed:{headersJWT(){const e=localStorage.getItem("token");return{Authorization:e}}}},i=o(89);const u=(0,i.Z)(c,[["render",n]]);var d=u}}]);
//# sourceMappingURL=775.95d4d82e.js.map