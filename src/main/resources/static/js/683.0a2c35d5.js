"use strict";(self["webpackChunkbook_02"]=self["webpackChunkbook_02"]||[]).push([[683],{9896:function(e,t,o){o(6779)},8876:function(e,t,o){o.d(t,{Ge:function(){return a}});var n=o(6779);const s="http://localhost:8080/sort",a=()=>(0,n.Z)(s+"/getBookSortList")},4337:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(3396);const s=e=>((0,n.dD)("data-v-150b6664"),e=e(),(0,n.Cn)(),e),a={class:"footer"},i=s((()=>(0,n._)("div",{class:"content"},[(0,n._)("p",null,"© 2023 想好了没组 软件学院 参考南昌大学黄龙同学作品")],-1))),l=[i];function r(e,t){return(0,n.wg)(),(0,n.iD)("div",a,l)}var u=o(89);const d={},c=(0,u.Z)(d,[["render",r],["__scopeId","data-v-150b6664"]]);var h=c},8841:function(e,t,o){o.d(t,{Z:function(){return c}});var n=o(3396);const s={class:"navClass"},a={class:"content"},i={class:"nav_content"};function l(e,t,o,l,r,u){const d=(0,n.up)("el-menu-item"),c=(0,n.up)("router-link"),h=(0,n.up)("el-submenu"),p=(0,n.up)("el-menu");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",a,[(0,n._)("div",i,[(0,n.Wm)(p,{"default-active":e.$route.path,class:"el-menu-demo",mode:"horizontal",onSelect:u.handleSelect,"background-color":"#304156","text-color":"#fff","active-text-color":"#ffd04b",router:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{index:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("首页")])),_:1}),(0,n.Wm)(h,{index:"/"},{title:(0,n.w5)((()=>[(0,n.Uk)("登陆|注册")])),default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{to:"/Login"},{default:(0,n.w5)((()=>[(0,n.Uk)("登录")])),_:1})])),_:1}),(0,n.Wm)(d,{index:"/RegisterPage"},{default:(0,n.w5)((()=>[(0,n.Uk)("注册")])),_:1}),(0,n.Wm)(d,{index:"/user/bookStall"},{default:(0,n.w5)((()=>[(0,n.Uk)("发布")])),_:1}),(0,n.Wm)(d,{index:"/Upload_3"},{default:(0,n.w5)((()=>[(0,n.Uk)("测试")])),_:1})])),_:1}),(0,n.Wm)(d,{index:"/user/mesNotice"},{default:(0,n.w5)((()=>[(0,n.Uk)("消息")])),_:1}),(0,n.Wm)(d,{index:"/user/userOrder"},{default:(0,n.w5)((()=>[(0,n.Uk)("我的订单")])),_:1}),(0,n.Wm)(d,{index:"/user"},{default:(0,n.w5)((()=>[(0,n.Uk)("个人中心")])),_:1})])),_:1},8,["default-active","onSelect"])])])])}var r={name:"NavGation",data(){return{activeIndex:"/"}},methods:{handleSelect(e,t){console.log(e,t)}}},u=o(89);const d=(0,u.Z)(r,[["render",l],["__scopeId","data-v-71d449ea"]]);var c=d},2310:function(e,t,o){o.d(t,{Z:function(){return g}});var n=o(3396),s=o(7139);const a=e=>((0,n.dD)("data-v-32d86536"),e=e(),(0,n.Cn)(),e),i={class:"headNav"},l={class:"content"},r=a((()=>(0,n._)("div",{style:{float:"left"}},[(0,n._)("div",{style:{width:"232px",height:"40px","vertical-align":"middle","font-family":"宋体","font-size":"38px","font-style":"italic"}}," 东大二手书网 ")],-1))),u={style:{float:"right"}};function d(e,t,o,a,d,c){const h=(0,n.up)("el-option"),p=(0,n.up)("el-select"),g=(0,n.up)("el-input"),_=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",l,[r,(0,n._)("div",u,[(0,n.Wm)(p,{modelValue:d.select,"onUpdate:modelValue":t[0]||(t[0]=e=>d.select=e),placeholder:"请选择",class:"search-type",onChange:c.handleOptionChange},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.type_list,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e.value,value:e.typeName},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.typeName),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,n.Wm)(g,{modelValue:d.input,"onUpdate:modelValue":t[1]||(t[1]=e=>d.input=e),placeholder:"书名、作者",class:"input-with-select",style:{width:"400px",height:"40px"}},null,8,["modelValue"]),(0,n.Wm)(_,{icon:"el-icon-search",class:"search-button",onClick:c.search},{default:(0,n.w5)((()=>[(0,n.Uk)("搜索")])),_:1},8,["onClick"])])])])}o(7658);var c={name:"HeadNav",data(){return{rel:"",input:"",select:"",type_list:[{typeName:"书名",value:"0"},{typeName:"作者",value:"1"}],imgS:o(3352)}},computed:{},methods:{handleOptionChange(e){"option1"===e?this.handleOption1():"option2"===e&&this.handleOption2()},handleOption1(){this.select=0},handleOption2(){this.select=1},search(){this.$router.push({name:"Search",params:{selectResult:this.select,inputContent:this.input}})}}},h=o(89);const p=(0,h.Z)(c,[["render",d],["__scopeId","data-v-32d86536"]]);var g=p},2683:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var n=o(3396),s=o(7139);const a=e=>((0,n.dD)("data-v-3102eaee"),e=e(),(0,n.Cn)(),e),i={class:"content"},l={class:"box_title"},r={style:{color:"#9d232c"}},u={class:"box"},d={class:"book_sort"},c={class:"tab"},h=a((()=>(0,n._)("div",{class:"tab_head"},"分类",-1))),p={style:{color:"black",width:"100%"}},g={class:"book_info"},_={class:"book_content_img"},m={class:"book_content_info"},v={class:"book_name"},f={class:"book_list_content"},k={class:"book_list_content"},w={class:"book_list_content"},y={key:0,class:"block",style:{float:"right",padding:"0 30px 10px"}},b={key:1,style:{width:"100%",height:"50px","line-height":"50px",padding:"0 20px"}},C=a((()=>(0,n._)("h3",null,"不好意思，此分类暂时还没有图书......",-1))),x=[C];function z(e,t,o,a,C,z){const S=(0,n.up)("Nav"),W=(0,n.up)("HeadNav"),N=(0,n.up)("router-link"),L=(0,n.up)("el-image"),$=(0,n.up)("el-button"),U=(0,n.up)("el-pagination"),q=(0,n.up)("Footer");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(S),(0,n.Wm)(W),(0,n._)("div",l,[(0,n._)("p",null,[(0,n.Uk)((0,s.zw)(this.total)+" 条结果 | ",1),(0,n._)("span",r,(0,s.zw)(this.sortName),1)])]),(0,n._)("div",u,[(0,n._)("div",d,[(0,n._)("div",c,[h,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(C.sortList,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"tab_list",key:e.upperSort.id},[(0,n.Wm)(N,{to:{path:"/search",query:{id:e.upperSort.id,name:e.upperSort.sortName}}},{default:(0,n.w5)((()=>[(0,n._)("div",p,(0,s.zw)(e.upperSort.sortName),1)])),_:2},1032,["to"])])))),128))])]),(0,n._)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(C.bookList,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"book_content",key:e.id},[(0,n.Wm)(N,{to:{path:"/BookInfo",query:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n.Wm)(L,{style:{width:"82%",height:"150px",margin:"5px 9%"},src:e.coverImg,fit:"fill"},null,8,["src"])])])),_:2},1032,["to"]),(0,n._)("div",m,[(0,n._)("div",v,(0,s.zw)(e.bookName),1),(0,n._)("div",f,"作者: "+(0,s.zw)(e.author),1),(0,n._)("div",k,"出版社: "+(0,s.zw)(e.publish),1),(0,n._)("div",w,"售价: "+(0,s.zw)(e.price),1),(0,n._)("div",null,[(0,n.Wm)($,{class:"plainBtn",plain:""},{default:(0,n.w5)((()=>[(0,n.Uk)("立即购买")])),_:1})])])])))),128)),C.total>0?((0,n.wg)(),(0,n.iD)("div",y,[(0,n.Wm)(U,{onSizeChange:z.handleSizeChange,onCurrentChange:z.handleCurrentChange,"current-page":C.currentPage,"page-sizes":[5,10,20,50],"page-size":C.page_size,background:"",layout:"total, sizes, prev, pager, next, jumper",total:C.total},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])):((0,n.wg)(),(0,n.iD)("div",b,x))])]),(0,n.Wm)(q)])}var S=o(8841),W=o(2310),N=o(4337),L=o(8876),$=o(9896),U={name:"SearchBook",components:{Nav:S.Z,HeadNav:W.Z,Footer:N.Z},data(){return{currentPage:1,page_size:10,total:100,sortName:"分类名称",sortList:[{upperSort:{sortName:null},children:null}],bookList:[],sortId:null,recInput:null,recSelect:null}},computed:{selectResult(){return this.$route.params.selectResult},inputContent(){return this.$route.params.inputContent}},methods:{handleClick(e,t){console.log(e,t)},getSortList(){(0,L.Ge)().then((e=>{this.sortList=e.sortResponseList}))},getBookList(e,t,o){(0,$.reqGetBookListBySort)(e,t,o).then((e=>{200==e.code&&(this.total=e.total,console.log(this.total),this.bookList=e.bookList),console.log(e)})).catch((e=>{console.log(e)}))},handleSizeChange(e){console.log(`每页 ${e} 条`),this.page_size=e,this.getBookList(this.sortId,1,this.page_size)},handleCurrentChange(e){console.log(`当前页: ${e}`),this.currentPage=e,console.log(this.currentPage+":"+this.page_size),this.getBookList(this.sortId,this.currentPage,this.page_size)}},created(){this.sortId=this.$route.query.id,this.sortName=this.$route.query.name,console.log("this.$route.query.name:"+this.$route.query.name),console.log("this.$route.query.id:"+this.$route.query.id),this.getSortList(),this.getBookList(this.sortId,1,10)},watch:{$route(){this.sortId=this.$route.query.id,this.sortName=this.$route.query.name,console.log("this.$route.query.name:"+this.$route.query.name),console.log("this.$route.query.id:"+this.$route.query.id),this.getSortList(),this.getBookList(this.sortId,1,10)}}},q=o(89);const I=(0,q.Z)(U,[["render",z],["__scopeId","data-v-3102eaee"]]);var D=I},3352:function(e,t,o){e.exports=o.p+"img/logo-250.fa9ad888.png"}}]);
//# sourceMappingURL=683.0a2c35d5.js.map