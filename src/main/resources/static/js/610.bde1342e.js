"use strict";(self["webpackChunkbook_02"]=self["webpackChunkbook_02"]||[]).push([[610],{2900:function(e,t,o){o.d(t,{Mv:function(){return d},RO:function(){return c},dR:function(){return s},yq:function(){return l}});var r=o(4161),a=o(6789);function n(e,t={},o="GET"){return new Promise((function(a,n){let u;if("GET"===o){let o="";Object.keys(t).forEach((e=>{o+=e+"="+t[e]+"&"})),""!==o&&(o=o.substring(0,o.lastIndexOf("&")),e=e+"?"+o),u=r.Z.get(e)}else u=r.Z.post(e,t);u.then((function(e){a(e)})).catch((function(e){n(e)}))}))}const u="http://localhost:8080",l=({account:e,password:t})=>n("http://localhost:8080/Login",{account:e,password:t},"POST"),s=({account:e})=>(0,a.Z)(u+"/user/accountVerify",{account:e}),d=(e,t)=>(0,a.Z)(u+"/user/register",{account:e,password:t}),c=(e,t,o)=>(0,a.Z)(u+"/modifyUserPwd",{account:e,oldPassword:t,newPassword:o})},4337:function(e,t,o){o.d(t,{Z:function(){return m}});var r=o(3396);const a=e=>((0,r.dD)("data-v-150b6664"),e=e(),(0,r.Cn)(),e),n={class:"footer"},u=a((()=>(0,r._)("div",{class:"content"},[(0,r._)("p",null,"© 2023 想好了没组 软件学院 参考南昌大学黄龙同学作品")],-1))),l=[u];function s(e,t){return(0,r.wg)(),(0,r.iD)("div",n,l)}var d=o(89);const c={},i=(0,d.Z)(c,[["render",s],["__scopeId","data-v-150b6664"]]);var m=i},7958:function(e,t,o){o.d(t,{Z:function(){return i}});var r=o(3396);const a={class:"navClass"},n={class:"content"},u={class:"nav_content"};function l(e,t,o,l,s,d){const c=(0,r.up)("el-menu-item"),i=(0,r.up)("router-link"),m=(0,r.up)("el-submenu"),f=(0,r.up)("el-menu");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",n,[(0,r._)("div",u,[(0,r.Wm)(f,{"default-active":e.$route.path,class:"el-menu-demo",mode:"horizontal",onSelect:d.handleSelect,"background-color":"#304156","text-color":"#fff","active-text-color":"#ffd04b",router:""},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{index:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)("首页")])),_:1}),(0,r.Wm)(m,{index:"/"},{title:(0,r.w5)((()=>[(0,r.Uk)("登陆|注册")])),default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{to:"Login"},{default:(0,r.w5)((()=>[(0,r.Uk)("登录")])),_:1})])),_:1}),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{to:"Register"},{default:(0,r.w5)((()=>[(0,r.Uk)("注册")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(c,{index:"/user/userInfo"},{default:(0,r.w5)((()=>[(0,r.Uk)("消息")])),_:1}),(0,r.Wm)(c,{index:"/user/userOrder"},{default:(0,r.w5)((()=>[(0,r.Uk)("我的订单")])),_:1}),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{to:"User",style:{color:"white"}},{default:(0,r.w5)((()=>[(0,r.Uk)("个人中心")])),_:1})])),_:1})])),_:1},8,["default-active","onSelect"])])])])}var s={name:"NavGation",data(){return{activeIndex:"/"}},methods:{handleSelect(e,t){console.log(e,t)}}},d=o(89);const c=(0,d.Z)(s,[["render",l],["__scopeId","data-v-1dd59bcc"]]);var i=c},1610:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var r=o(3396);const a=e=>((0,r.dD)("data-v-a766f856"),e=e(),(0,r.Cn)(),e),n={class:"content"},u={class:"login_content"},l=a((()=>(0,r._)("h2",{style:{margin:"20px auto"}},"注册",-1))),s={style:{margin:"30px auto",width:"300px"}},d=a((()=>(0,r._)("span",null,"已阅读并同意：东大二手书店 用户协议",-1)));function c(e,t,o,a,c,i){const m=(0,r.up)("Nav"),f=(0,r.up)("el-input"),p=(0,r.up)("el-form-item"),w=(0,r.up)("el-button"),g=(0,r.up)("center"),h=(0,r.up)("el-form"),v=(0,r.up)("Footer");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(m),(0,r._)("div",n,[(0,r._)("div",u,[l,(0,r._)("div",s,[(0,r.Wm)(h,{model:c.ruleForm,"status-icon":"",rules:c.rules,ref:"ruleForm",class:"demo-ruleForm",size:"medium"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{prop:"account"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"text",modelValue:c.ruleForm.account,"onUpdate:modelValue":t[0]||(t[0]=e=>c.ruleForm.account=e),autocomplete:"off",placeholder:"账号"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(p,{prop:"password"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"password",modelValue:c.ruleForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>c.ruleForm.password=e),autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(p,{prop:"rePassword"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"password",modelValue:c.ruleForm.rePassword,"onUpdate:modelValue":t[2]||(t[2]=e=>c.ruleForm.rePassword=e),autocomplete:"off",placeholder:"密码确认"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{type:"primary",onClick:t[3]||(t[3]=e=>i.submitForm("ruleForm")),style:{width:"100%"}},{default:(0,r.w5)((()=>[(0,r.Uk)("注册")])),_:1})])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["model","rules"])])])]),(0,r.Wm)(v)])}o(7658);var i=o(7958),m=o(4337),f=o(2900),p={name:"RegisterPage",components:{Nav:i.Z,Footer:m.Z},data(){let e=(e,t,o)=>{(0,f.dR)(t).then((e=>{200==e.data.code?o():o(e.data.message)})).catch((e=>{o()}))},t=(e,t,o)=>{""===t?o(new Error("请输入密码")):t.length<3?o(new Error("密码长度不能小于8")):o()},o=(e,t,o)=>{t!==this.ruleForm.password?o(new Error("密码不一致")):o()};return{ruleForm:{account:"",password:"",rePassword:""},rules:{account:[{validator:e,trigger:"blur"},{type:"email",required:!0,message:"请输入正确格式邮箱",trigger:"change"}],password:[{validator:t,trigger:"blur"}],rePassword:[{validator:o,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("数据不符合要求，不能进行注册"),!1;(0,f.Mv)(this.ruleForm.account,this.ruleForm.password).then((e=>{200==e.code?(console.log("=====注册成功====="),this.$message({type:"success",message:e.message,duration:1e3}),setTimeout((()=>{this.$router.push({path:"/login"})}),1e3)):this.$message({type:"waring",message:e.message,duration:1e3})})).catch((e=>{this.$message({type:"waring",message:"注册失败",duration:1e3})}))}))},resetForm(e){this.$refs[e].resetFields()}}},w=o(89);const g=(0,w.Z)(p,[["render",c],["__scopeId","data-v-a766f856"]]);var h=g}}]);
//# sourceMappingURL=610.bde1342e.js.map