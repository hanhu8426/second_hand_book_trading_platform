"use strict";(self["webpackChunkbook_02"]=self["webpackChunkbook_02"]||[]).push([[333],{9333:function(e,l,a){a.r(l),a.d(l,{default:function(){return L}});var o=a(3396),t=a(7139);const s=e=>((0,o.dD)("data-v-2a7298e0"),e=e(),(0,o.Cn)(),e),i={class:"content"},d=s((()=>(0,o._)("h1",null,"我的书摊",-1))),n={class:"box_info"},r={class:"book_list"},u=s((()=>(0,o._)("i",{class:"el-icon-edit"},null,-1))),c=s((()=>(0,o._)("p",{style:{"font-size":"14px"}},"添加新的书籍",-1))),m=[u,c],p={class:"bookCover"},h={class:"bookName"},g={style:{float:"right","font-size":"14px",color:"#757575"}},b={class:"author"},f={class:"Description"},k={class:"foot"},_=["onClick"],v=["onClick"],w={class:"dialog-footer"};function U(e,l,a,s,u,c){const U=(0,o.up)("el-image"),V=(0,o.up)("UploadPage"),y=(0,o.up)("el-input"),W=(0,o.up)("el-form-item"),A=(0,o.up)("el-form"),C=(0,o.up)("el-button"),D=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.iD)("div",i,[d,(0,o._)("div",n,[(0,o._)("div",r,[(0,o._)("div",{class:"add",onClick:l[0]||(l[0]=(...e)=>c.handleAdd&&c.handleAdd(...e))},m)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.bookList,(l=>((0,o.wg)(),(0,o.iD)("div",{class:"book_list",key:l.id},[(0,o._)("div",p,[(0,o.Wm)(U,{src:"src/assets/image/20.jpg"},{default:(0,o.w5)((()=>[(0,o.Uk)(' alt="书籍封面">')])),_:1})]),(0,o._)("div",h,[(0,o.Uk)((0,t.zw)(l.name)+" ",1),(0,o._)("span",g,(0,t.zw)(l.type),1)]),(0,o._)("div",b,(0,t.zw)(l.author),1),(0,o._)("div",f,(0,t.zw)(l.description),1),(0,o._)("div",k,[(0,o._)("span",{style:{float:"right"},onClick:a=>e.delbook(l)},"删除",8,_),(0,o._)("span",{style:{float:"right","margin-right":"10px"},onClick:e=>c.handleMod(l)},"修改",8,v)])])))),128))]),(0,o.Wm)(D,{title:"添加新的书籍",modelValue:u.dialogVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>u.dialogVisible=e),width:"50%",center:""},{footer:(0,o.w5)((()=>[(0,o._)("span",w,[(0,o.Wm)(C,{onClick:l[5]||(l[5]=e=>u.dialogVisible=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("取 消")])),_:1}),(0,o.Wm)(C,{type:"primary",onClick:l[6]||(l[6]=e=>c.onSubmit("form"))},{default:(0,o.w5)((()=>[(0,o.Uk)("确 定")])),_:1})])])),default:(0,o.w5)((()=>[(0,o.Wm)(A,{ref:"form",model:u.book},{default:(0,o.w5)((()=>[(0,o.Wm)(V),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{placeholder:"书名",modelValue:u.book.name,"onUpdate:modelValue":l[1]||(l[1]=e=>u.book.name=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{placeholder:"类别",modelValue:u.book.type,"onUpdate:modelValue":l[2]||(l[2]=e=>u.book.type=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{type:"textarea",placeholder:"简介",modelValue:u.book.description,"onUpdate:modelValue":l[3]||(l[3]=e=>u.book.description=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{placeholder:"价格",modelValue:u.book.price,"onUpdate:modelValue":l[4]||(l[4]=e=>u.book.price=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}const V=e=>((0,o.dD)("data-v-01f33aa8"),e=e(),(0,o.Cn)(),e),y=["src"],W={key:1,class:"el-icon-plus avatar-uploader-icon"},A=V((()=>(0,o._)("span",null,"书籍封面上传",-1)));function C(e,l,a,t,s,i){const d=(0,o.up)("el-upload");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{class:"avatar-uploader",action:"http://localhost:8080/upload","show-file-list":!0,"on-remove":i.handleAvatarFail,"on-success":i.handleAvatarSuccess,"before-upload":i.beforeAvatarUpload},{default:(0,o.w5)((()=>[s.imageUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:s.imageUrl,class:"avatar",alt:"图片详情"},null,8,y)):((0,o.wg)(),(0,o.iD)("i",W)),A])),_:1},8,["on-remove","on-success","before-upload"])])}var D={name:"UploadPage",data(){return{imageUrl:""}},methods:{handleAvatarSuccess(e,l){this.imageUrl=URL.createObjectURL(l.raw),console.log(this.imageUrl)},beforeAvatarUpload(e){const l="image/jpeg"===e.type,a=e.size/1024/1024<2;return l||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),l&&a},handleAvatarFail(){console.log("文件已被移动")}}},P=a(89);const z=(0,P.Z)(D,[["render",C],["__scopeId","data-v-01f33aa8"]]);var x=z,I={name:"AddressPage",components:{UploadPage:x},data(){return{dialogVisible:!1,isEdit:!1,bookList:[{id:1,name:"黄哥的恋爱节奏",author:"黄文敬",isbn:"",type:"文学",description:"讲述了黄哥的恋爱心路历程，惊心动魄，感人肺腑",status:"",image:"",campus:"",price:"25",newProduct:"",recommend:"",sellerID:""},{id:2,name:"算出来的秘密爱情",author:"胡丹婷",isbn:"",type:"小说",description:"",status:"",image:"",campus:"",price:"",newProduct:"",recommend:"",sellerID:""}],book:{id:null,name:"",author:"",isbn:"",type:"",description:"",status:"",image:"",campus:"",price:"",newProduct:"",recommend:"",sellerID:""}}},methods:{handleAdd(){this.dialogVisible=!0,this.isEdit=!1},handleMod(e){this.dialogVisible=!0,this.isEdit=!0,this.book=e},onSubmit(e){this.isEdit?this.modifyAddress():this.addAddress()}}};const E=(0,P.Z)(I,[["render",U],["__scopeId","data-v-2a7298e0"]]);var L=E}}]);
//# sourceMappingURL=333.0d864b8f.js.map