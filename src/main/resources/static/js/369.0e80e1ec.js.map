{"version":3,"file":"js/369.0e80e1ec.js","mappings":"iPAsPSA,MAAM,W,UACPC,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,GACHD,MAAM,Y,GACFA,MAAM,a,UAEHC,EAAAA,EAAAA,GAA4B,KAAzBD,MAAM,gBAAc,W,UACvBC,EAAAA,EAAAA,GAAqC,KAAlCC,MAAA,sBAAwB,UAAM,K,GADjCC,EACAC,G,GAICJ,MAAM,a,GAGNA,MAAM,Y,GACDE,MAAA,oD,GAELF,MAAM,U,GACNA,MAAM,e,GACNA,MAAM,Q,iBAiDTA,MAAM,iB,mSAnEpBK,EAAAA,EAAAA,IAyEM,MAzENC,EAyEM,CAxEFC,GACAN,EAAAA,EAAAA,GAqBM,MArBNO,EAqBM,EApBFP,EAAAA,EAAAA,GAKM,MALNQ,EAKM,EAJFR,EAAAA,EAAAA,GAGM,OAHDD,MAAM,MAAOU,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,WAAAD,EAAAC,aAAAF,K,oBAK7BP,EAAAA,EAAAA,IAaMU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAbgCC,EAAAC,UAARC,K,WAA9Bd,EAAAA,EAAAA,IAaM,OAbDL,MAAM,YAAsCoB,IAAKD,EAAKE,Q,EACvDpB,EAAAA,EAAAA,GAEM,MAFNqB,EAEM,EADFC,EAAAA,EAAAA,IAAmDC,EAAA,CAAxCC,IAAI,cAAY,C,kBAAC,IAAY,UAAZ,mB,SAEhCxB,EAAAA,EAAAA,GAEM,MAFNyB,EAEM,mBAFkBP,EAAKQ,MAAM,IAC/B,IAAA1B,EAAAA,EAAAA,GAAyF,OAAzF2B,GAAyFC,EAAAA,EAAAA,IAAA,KAAvBC,YAAY,IAAD,MAEjF7B,EAAAA,EAAAA,GAAyC,MAAzC8B,GAAyCF,EAAAA,EAAAA,IAAnBV,EAAKa,QAAM,IACjC/B,EAAAA,EAAAA,GAAmD,MAAnDgC,GAAmDJ,EAAAA,EAAAA,IAAxBV,EAAKe,aAAW,IAC3CjC,EAAAA,EAAAA,GAGM,MAHNkC,EAGM,EAFFlC,EAAAA,EAAAA,GAA2D,QAArDC,MAAA,gBAAsBQ,QAAK0B,GAAEvB,EAAAwB,QAAQlB,IAAO,KAAE,EAAAmB,IACpDrC,EAAAA,EAAAA,GAA0E,QAApEC,MAAA,sCAAyCQ,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAA0B,WAAA1B,EAAA0B,aAAA3B,KAAW,a,SAM7EW,EAAAA,EAAAA,IA6CYiB,EAAA,CA7CDC,MAAM,S,WAAkBxB,EAAAyB,c,uCAAAzB,EAAAyB,cAAaN,GAAEO,MAAM,MAAOC,OAAA,I,CAwC1CC,QAAMC,EAAAA,EAAAA,KACvB,IAGO,EAHP7C,EAAAA,EAAAA,GAGO,OAHP8C,EAGO,EAFXxB,EAAAA,EAAAA,IAAyDyB,EAAA,CAA7CtC,QAAKC,EAAA,KAAAA,EAAA,GAAAyB,GAAEnB,EAAAyB,eAAgB,I,mBAAO,IAAG,UAAH,U,OAC1CnB,EAAAA,EAAAA,IAAmEyB,EAAA,CAAxDC,KAAK,UAAWvC,QAAKC,EAAA,MAAAA,EAAA,IAAAyB,GAAEvB,EAAAqC,SAAS,U,mBAAS,IAAG,UAAH,U,6BA1ChD,IAsCU,EAtCV3B,EAAAA,EAAAA,IAsCU4B,EAAA,CAtCDC,IAAI,OAAQC,MAAOpC,EAAAE,M,mBACxB,IAA2C,EAA3CI,EAAAA,EAAAA,IAA2C+B,EAAA,CAA9BF,IAAI,aAAW,WAC5B7B,EAAAA,EAAAA,IAEegC,EAAA,M,kBADX,IAA0D,EAA1DhC,EAAAA,EAAAA,IAA0DiC,EAAA,CAAhDC,YAAY,K,WAAcxC,EAAAE,KAAKQ,K,qCAALV,EAAAE,KAAKQ,KAAIS,I,iCAEjDb,EAAAA,EAAAA,IAEegC,EAAA,M,kBADX,IAA4D,EAA5DhC,EAAAA,EAAAA,IAA4DiC,EAAA,CAAlDC,YAAY,K,WAAcxC,EAAAE,KAAKa,O,qCAALf,EAAAE,KAAKa,OAAMI,I,iCAEnDb,EAAAA,EAAAA,IAEegC,EAAA,M,kBADX,IAA4D,EAA5DhC,EAAAA,EAAAA,IAA4DiC,EAAA,CAAlDC,YAAY,O,WAAgBxC,EAAAE,KAAKuC,K,qCAALzC,EAAAE,KAAKuC,KAAItB,I,iCAEnDb,EAAAA,EAAAA,IAWmCgC,EAAA,M,kBAV/B,IAUc,EAVdhC,EAAAA,EAAAA,IAUcoC,EAAA,CAVAzD,MAAA,gBAAoB,C,kBAC9B,IAQY,EARZqB,EAAAA,EAAAA,IAQYqC,EAAA,C,WARQ3C,EAAAE,KAAK8B,K,qCAALhC,EAAAE,KAAK8B,KAAIb,GAAEqB,YAAY,QAASI,SAAQhD,EAAAiD,a,mBACxD,IAAiD,EAAjDvC,EAAAA,EAAAA,IAAiDwC,EAAA,CAAtCC,MAAM,SAASC,MAAM,OAChC1C,EAAAA,EAAAA,IAAgDwC,EAAA,CAArCC,MAAM,SAASC,MAAM,OAChC1C,EAAAA,EAAAA,IAAgDwC,EAAA,CAArCC,MAAM,SAASC,MAAM,OAChC1C,EAAAA,EAAAA,IAAgDwC,EAAA,CAArCC,MAAM,SAASC,MAAM,OAChC1C,EAAAA,EAAAA,IAAiDwC,EAAA,CAAtCC,MAAM,UAAUC,MAAM,OACjC1C,EAAAA,EAAAA,IAAgDwC,EAAA,CAArCC,MAAM,SAASC,MAAM,OAChC1C,EAAAA,EAAAA,IAAgDwC,EAAA,CAArCC,MAAM,SAASC,MAAM,S,qDAG5C1C,EAAAA,EAAAA,IAEegC,EAAA,M,kBADX,IAAiF,EAAjFhC,EAAAA,EAAAA,IAAiFiC,EAAA,CAAvEP,KAAK,WAAWQ,YAAY,K,WAAcxC,EAAAE,KAAKe,Y,qCAALjB,EAAAE,KAAKe,YAAWE,I,iCAExEb,EAAAA,EAAAA,IAQegC,EAAA,CARDW,KAAK,QAAM,C,kBACrB,IAMc,EANd3C,EAAAA,EAAAA,IAMcoC,EAAA,CANAzD,MAAA,gBAAoB,C,kBAC9B,IAIY,EAJZqB,EAAAA,EAAAA,IAIYqC,EAAA,C,WAJQ3C,EAAAE,KAAKgD,O,qCAALlD,EAAAE,KAAKgD,OAAM/B,GAAEqB,YAAY,S,mBACzC,IAA8C,EAA9ClC,EAAAA,EAAAA,IAA8CwC,EAAA,CAAnCC,MAAM,QAAQC,MAAM,OAC/B1C,EAAAA,EAAAA,IAA6CwC,EAAA,CAAlCC,MAAM,QAAQC,MAAM,OAC/B1C,EAAAA,EAAAA,IAA6CwC,EAAA,CAAlCC,MAAM,QAAQC,MAAM,S,0CAI3C1C,EAAAA,EAAAA,IAEegC,EAAA,M,kBADX,IAA2D,EAA3DhC,EAAAA,EAAAA,IAA2DiC,EAAA,CAAjDC,YAAY,K,WAAcxC,EAAAE,KAAKiD,M,qCAALnD,EAAAE,KAAKiD,MAAKhC,I,+FClTlE,MAAMiC,EAAW,wBAIJC,EAAcnD,IAASoD,EAAAA,EAAAA,GAAKF,EAAS,WAAY,CACvD1C,KAAKR,EAAKQ,KACVK,OAAOb,EAAKa,OACZ0B,KAAKvC,EAAKuC,KACVT,KAAK9B,EAAK8B,KACVf,YAAYf,EAAKe,YACjBsC,OAAOrD,EAAKqD,OACZL,OAAOhD,EAAKgD,OACZC,MAAMjD,EAAKiD,MACXK,UAAUtD,EAAKsD,WACnB,QAGUC,EAAcvD,IAASoD,EAAAA,EAAAA,GAAKF,EAAS,cAAc,CAC5DhD,OAAOF,EAAKE,OACZsD,MAAMxD,EAAKwD,MACXhD,KAAKR,EAAKQ,KACVK,OAAOb,EAAKa,OACZiB,KAAK9B,EAAK8B,KACVf,YAAYf,EAAKe,YACjBkC,MAAMjD,EAAKiD,OACb,QAGWQ,EAAcvD,IAAWkD,EAAAA,EAAAA,GAAKF,EAAS,WAAW,CAAChD,WAGnDwD,EAAiBA,KAAMN,EAAAA,EAAAA,GAAKF,EAAS,eAAe,CAAC,G,GCmBtDpE,EAAAA,EAAAA,GAAkB,YAAX,QAAI,G,mBAEDD,MAAM,qC,wEAVxBK,EAAAA,EAAAA,IAYM,aAXFkB,EAAAA,EAAAA,IAUYuD,EAAA,CATR9E,MAAM,kBACN+E,OAAO,+BACN,kBAAgB,EAChB,aAAYlE,EAAAmE,oBACZ,gBAAenE,EAAAoE,mBACfC,QAASrE,EAAAsE,Y,mBACV,IAAkB,CAAlB7E,EACWW,EAAAmE,WAAQ,WAAnB/E,EAAAA,EAAAA,IAA+D,O,MAAzCoB,IAAKR,EAAAmE,SAAUpF,MAAM,SAASqF,IAAI,Q,wBACxDhF,EAAAA,EAAAA,IAAwD,IAAxDG,O,mDArDZ,OACImB,KAAK,aACL2D,OACI,MAAO,CACHF,SAAU,GACVT,MAAM,GAEd,EACAY,QAAS,CACLP,oBAAoBQ,EAAKC,GACrBC,KAAKN,SAAWO,IAAIC,gBAAgBH,EAAKI,KACzCC,QAAQC,IAAIL,KAAKN,UACjBU,QAAQC,IAAIP,GACZE,KAAKf,MAAQa,EAAIF,KACjBQ,QAAQC,IAAIP,EAAIF,KAEpB,EACAL,mBAAmBQ,GACf,MAAMO,EAAsB,eAAdP,EAAKxC,KACbgD,EAASR,EAAKS,KAAO,KAAO,KAAO,EAQzC,OANKF,GACDN,KAAKS,SAASC,MAAM,qBAEnBH,GACDP,KAAKS,SAASC,MAAM,qBAEjBJ,GAASC,CACpB,GAEJI,SAAU,CACNlB,aACI,MAAMmB,EAAMC,aAAaC,QAAQ,SACjC,MAAM,CACFC,cAAcH,EAEtB,I,QC/BR,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QHNA,GACI/E,KAAM,gBACNgF,WAAY,CAACC,WAAUA,GACvBtB,OACI,MAAO,CACH5C,eAAe,EACfmE,QAAQ,EACR/E,YAAY,CACR,SACA,SACA,SACA,SACA,UACA,SACA,UAEJZ,SAAU,CACN,CACI4F,OAAQ,EACRnF,KAAM,UACNK,OAAQ,MACR0B,KAAM,GACNT,KAAM,EACNf,YAAa,yBACbsC,OAAQ,GACRG,MAAO,GACPR,OAAQ,GACRC,MAAO,KACP2C,WAAY,GACZtC,UAAW,GACXuC,SAAU,IAEd,CACI3F,OAAQ,EACRM,KAAM,WACNK,OAAQ,MACR0B,KAAM,GACNT,KAAM,EACNf,YAAa,GACbsC,OAAQ,GACRG,MAAO,GACPR,OAAQ,GACRC,MAAO,GACP2C,WAAY,GACZtC,UAAW,GACXuC,SAAU,KAKlB7F,KAAM,CACFE,OAAQ,GACRM,KAAM,GACNK,OAAQ,GACR0B,KAAM,GACNT,KAAM,GACNf,YAAa,GACbsC,OAAQ,GACRG,MAAO,GACPR,OAAQ,GACRC,MAAO,GACPK,UAAW,GACXuC,SAAU,IAGtB,EAEAC,UACInB,QAAQC,IAAI,UACZL,KAAKwB,aACT,EACAC,UACIrB,QAAQC,IAAI,UACZL,KAAKwB,aACT,EACA3B,QAAS,CAETzB,cACQ,OAAQ4B,KAAKvE,KAAK8B,MACd,IAAK,IACDyC,KAAK5D,YAAY,SACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,SACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,SACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,SACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,UACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,SACjB,MACJ,IAAK,IACD4D,KAAK5D,YAAY,OACjB,MACJ,QACIgE,QAAQC,IAAI,WAErB,EAEPjF,YACQ4E,KAAKhD,eAAgB,EACrBgD,KAAKmB,QAAS,CAClB,EAEJtE,UAAUpB,GACFuE,KAAKhD,eAAgB,EACrBgD,KAAKmB,QAAS,EACdnB,KAAKvE,KAAKE,OAASF,EAAKE,OACxBqE,KAAKvE,KAAKwD,MAAQe,KAAK0B,MAAMC,UAAU1C,MACvCe,KAAKvE,KAAKQ,KAAKR,EAAKQ,KACpB+D,KAAKvE,KAAKa,OAASb,EAAKa,OACxB0D,KAAKvE,KAAK8B,KAAO9B,EAAK8B,KACtByC,KAAKvE,KAAKe,YAAcf,EAAKe,YAC7BwD,KAAKvE,KAAKiD,MAAQjD,EAAKiD,KAC3B,EAGJlB,WACYwC,KAAKmB,OACLnB,KAAK4B,aAEL5B,KAAK6B,SAEb,EAGJL,cACQpB,QAAQC,IAAI,iBAAmBL,KAAK8B,OAAOC,QAAQC,QAAQC,QAAU,SACrE9C,IAAiB+C,MAAKC,IAElB,GADA/B,QAAQC,IAAI8B,GACc,GAAtBA,EAASvC,KAAKwC,KAAW,CACzB,IAAI5G,EAAW2G,EAASvC,KAAKA,KAC7BQ,QAAQC,IAAI7E,GACZwE,KAAKxE,SAAWA,CACpB,MACIwE,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,WAEd,IACD+E,OAAMC,IACLnC,QAAQC,IAAIkC,EAAI,GAExB,EAGJV,UACQzB,QAAQC,IAAIL,KAAKvE,MACjB2E,QAAQC,IAAIL,KAAK5D,aACjBgE,QAAQC,IAAI,oBACZL,KAAKvE,KAAKqD,OAAS,EACnBkB,KAAKvE,KAAKsD,UAAW,UACrBiB,KAAKvE,KAAKwD,MAAOe,KAAK0B,MAAMC,UAAU1C,MACtCmB,QAAQC,IAAIL,KAAKvE,MACjBmD,EAAWoB,KAAKvE,MAAMyG,MAAKC,IACvB/B,QAAQC,IAAI8B,GACc,GAAtBA,EAASvC,KAAKwC,MACdpC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,YAEVyC,KAAKhD,eAAgB,EACrBgD,KAAKwC,kBAELxC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,WAEd,IACD+E,OAAMC,IACLnC,QAAQC,IAAIkC,EAAI,GAExB,EAGJX,aACI5C,EAAWgB,KAAKvE,MAAMyG,MAAKC,IACvB/B,QAAQC,IAAI8B,GACc,GAAtBA,EAASvC,KAAKwC,MACdpC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,YAEVyC,KAAKhD,eAAgB,EACrBgD,KAAKwC,kBAELxC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,WAEd,IACD+E,OAAMC,IACLnC,QAAQC,IAAIkC,EAAI,GAExB,EAEA5F,QAAQlB,GACJ2E,QAAQC,IAAI,QACZD,QAAQC,IAAI5E,EAAKE,QACjBqE,KAAKyC,SAAS,aAAc,KAAM,CAC1BC,kBAAmB,KACnBC,iBAAkB,KAClBpF,KAAM,YACP2E,MAAK,KACJhD,EAAWzD,EAAKE,QAAQuG,MAAKC,IACzB/B,QAAQC,IAAI8B,GACc,GAAtBA,EAASvC,KAAKwC,MACdpC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,YAEVyC,KAAKwC,kBAELxC,KAAKS,SAAS,CACV4B,QAASF,EAASE,QAClB9E,KAAM,WAEd,IACD+E,OAAMC,IACLnC,QAAQC,IAAIkC,EAAI,GAClB,IACHD,OAAM,KACLlC,QAAQC,IAAI,QAAQ,GAG5B,IInOR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASuC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://book_02/./src/components/UserHome/bookStall/bookStall.vue","webpack://book_02/./src/api/bookStall.js","webpack://book_02/./src/components/Common/uploadBook.vue","webpack://book_02/./src/components/Common/uploadBook.vue?ee6d","webpack://book_02/./src/components/UserHome/bookStall/bookStall.vue?61b9"],"sourcesContent":["<script>\r\nimport {reqAddBook, reqDelBook, reqGetBookList, reqModBook} from \"@/api/bookStall\";\r\nimport UploadBook from \"@/components/Common/uploadBook.vue\";\r\nexport default {\r\n    name: \"BookStallPage\",\r\n    components: {UploadBook},\r\n    data() {\r\n        return {\r\n            dialogVisible: false,\r\n            isEdit: false,//用来判断是添加书还是修改书 false:添加 true:修改\r\n            TextForType:[\r\n                \"历史和政治类\",\r\n                \"文学和艺术类\",\r\n                \"科学和技术类\",\r\n                \"商业和经济类\",\r\n                \"心理学和自助类\",\r\n                \"旅游和地理类\",\r\n                \"宗教和哲学类\",\r\n            ],\r\n            bookList: [\r\n                {\r\n                    BookId: 1,\r\n                    name: \"黄哥的恋爱节奏\",\r\n                    author: \"黄文敬\",\r\n                    isbn: \"\",\r\n                    type: 1,\r\n                    description: \"讲述了黄哥的恋爱心路历程，惊心动魄，感人肺腑\",\r\n                    status: \"\",\r\n                    image: \"\",\r\n                    campus: \"\",\r\n                    price: \"25\",\r\n                    newProduct: \"\",\r\n                    recommend: \"\",\r\n                    sellerID: \"\",\r\n                },\r\n                {\r\n                    bookId: 2,\r\n                    name: \"算出来的秘密爱情\",\r\n                    author: \"胡丹婷\",\r\n                    isbn: \"\",\r\n                    type: 2,\r\n                    description: \"\",\r\n                    status: \"\",\r\n                    image: \"\",\r\n                    campus: \"\",\r\n                    price: \"\",\r\n                    newProduct: \"\",\r\n                    recommend: \"\",\r\n                    sellerID: \"\",\r\n                },\r\n\r\n            ],\r\n\r\n            book: {\r\n                bookId: '',\r\n                name: \"\",\r\n                author: \"\",\r\n                isbn: \"\",\r\n                type: \"\",\r\n                description: \"\",\r\n                status: \"\",\r\n                image: \"\",\r\n                campus: \"\",\r\n                price: \"\",\r\n                recommend: \"\",\r\n                sellerID: \"\",\r\n            },\r\n        };\r\n    },\r\n    // 初始化构建组件\r\n    created() {\r\n        console.log(\"开始生命构建\")\r\n        this.getBookList();\r\n    },\r\n    mounted() {\r\n        console.log(\"开始生命构建\")\r\n        this.getBookList();\r\n    },\r\n    methods: {\r\n    //修改当前的标签值\r\n    changeLable(){\r\n            switch (this.book.type) {\r\n                case '1':\r\n                    this.TextForType=\"历史和政治类\"\r\n                    break\r\n                case '2':\r\n                    this.TextForType=\"文学和艺术类\"\r\n                    break\r\n                case '3':\r\n                    this.TextForType=\"科学和技术类\"\r\n                    break\r\n                case '4':\r\n                    this.TextForType=\"商业和经济类\"\r\n                    break\r\n                case '5':\r\n                    this.TextForType=\"心理学和自助类\"\r\n                    break\r\n                case '6':\r\n                    this.TextForType=\"旅游和地理类\"\r\n                    break\r\n                case '7':\r\n                    this.TextForType=\"工具书类\"\r\n                    break\r\n                default:\r\n                    console.log('default')\r\n            }\r\n           },\r\n    //处理添加操作\r\n    handleAdd() {\r\n            this.dialogVisible = true;\r\n            this.isEdit = false;\r\n        },\r\n    //处理修改\r\n    handleMod(book) {\r\n            this.dialogVisible = true;\r\n            this.isEdit = true;\r\n            this.book.bookId = book.bookId;\r\n            this.book.image = this.$refs.bookPaper.image;\r\n            this.book.name=book.name;\r\n            this.book.author = book.author;\r\n            this.book.type = book.type;\r\n            this.book.description = book.description;\r\n            this.book.price = book.price;\r\n        },\r\n\r\n    //提交处理\r\n    onSubmit() {\r\n            if (this.isEdit) {\r\n                this.modifyBook();\r\n            } else {\r\n                this.addBook();\r\n            }\r\n        },\r\n\r\n     //得到用户书籍列表\r\n    getBookList() {\r\n            console.log(\"===获取的书籍列表：===\" + this.$store.getters.getUser.account + \"=====\");\r\n            reqGetBookList().then(response => {\r\n                console.log(response);\r\n                if (response.data.code == 1) {\r\n                    let bookList = response.data.data\r\n                    console.log(bookList)\r\n                    this.bookList = bookList\r\n                } else {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"warning\"\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        },\r\n\r\n    //添加书籍\r\n    addBook() {\r\n            console.log(this.book)\r\n            console.log(this.TextForType)\r\n            console.log(\"在向后端传送书籍的资料前进行赋值\")\r\n            this.book.status = 1\r\n            this.book.recommend= \"boolean\"\r\n            this.book.image= this.$refs.bookPaper.image\r\n            console.log(this.book)\r\n            reqAddBook(this.book).then(response => {\r\n                console.log(response);\r\n                if (response.data.code == 1) {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"success\"\r\n                    });\r\n                    this.dialogVisible = false;\r\n                    this.getAddressList();\r\n                } else {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"warning\"\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        },\r\n\r\n    //修改书籍\r\n    modifyBook() {\r\n        reqModBook(this.book).then(response => {\r\n            console.log(response);\r\n            if (response.data.code == 1) {\r\n                this.$message({\r\n                    message: response.message,\r\n                    type: \"success\"\r\n                });\r\n                this.dialogVisible = false;\r\n                this.getAddressList();\r\n            } else {\r\n                this.$message({\r\n                    message: response.message,\r\n                    type: \"warning\"\r\n                })\r\n            }\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n    },\r\n    //处理删除书籍\r\n    delBook(book) {\r\n        console.log(\"删除测试\")\r\n        console.log(book.bookId)\r\n        this.$confirm('是否要进行删除操作?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                reqDelBook(book.bookId).then(response => {\r\n                    console.log(response);\r\n                    if (response.data.code == 1) {\r\n                        this.$message({\r\n                            message: response.message,\r\n                            type: \"success\"\r\n                        });\r\n                        this.getAddressList();\r\n                    } else {\r\n                        this.$message({\r\n                            message: response.message,\r\n                            type: \"warning\"\r\n                        })\r\n                    }\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                })\r\n            }).catch(() => {\r\n                console.log(\"取消删除了\");\r\n            });\r\n\r\n        },\r\n\r\n},}\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n<template>\r\n    <div class=\"content\">\r\n        <h1>我的书摊</h1>\r\n        <div class=\"box_info\">\r\n            <div class=\"book_list\">\r\n                <div class=\"add\" @click=\"handleAdd\">\r\n                    <i class=\"el-icon-edit\"></i>\r\n                    <p style=\"font-size: 14px\">添加新的书籍</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"book_list\" v-for=\"book in bookList\" :key=\"book.bookId\">\r\n                <div class=\"bookCover\">\r\n                    <el-image  src=\"book.image\"> alt=\"书籍封面\"></el-image>\r\n                </div>\r\n                <div class=\"bookName\">{{book.name}}\r\n                    <span style=\"float: right;font-size: 14px;color: #757575;\">{{this.TextForType[2]}}</span>\r\n                </div>\r\n                <div class=\"author\">{{book.author}}</div>\r\n                <div class=\"Description\">{{book.description}}</div>\r\n                <div class=\"foot\">\r\n                    <span style=\"float: right\" @click=\"delBook(book)\">删除</span>\r\n                    <span style=\"float: right;margin-right: 10px\" @click=\"handleMod\">修改</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!--添加图书的弹出框-->\r\n        <el-dialog title=\"添加新的书籍\" v-model=\"dialogVisible\" width=\"50%\"  center>\r\n            <el-form ref=\"form\" :model=\"book\">\r\n                <upload-book ref=\"bookPaper\"></upload-book>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"书名\" v-model=\"book.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"作者\" v-model=\"book.author\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"ISBN\" v-model=\"book.isbn\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-dropdown  style=\"width: 100%;\">\r\n                        <el-select v-model=\"book.type\" placeholder=\"请选择类型\" @change=\"changeLable\">\r\n                            <el-option label=\"历史和政治类\" value=\"1\" ></el-option>\r\n                            <el-option label=\"文学和艺术类\" value=\"2\"></el-option>\r\n                            <el-option label=\"科学和技术类\" value=\"3\"></el-option>\r\n                            <el-option label=\"商业和经济类\" value=\"4\"></el-option>\r\n                            <el-option label=\"心理学和自助类\" value=\"5\"></el-option>\r\n                            <el-option label=\"旅游和地理类\" value=\"6\"></el-option>\r\n                            <el-option label=\"宗教和哲学类\" value=\"7\"></el-option>\r\n                        </el-select>\r\n                    </el-dropdown>  </el-form-item>\r\n                <el-form-item>\r\n                    <el-input type=\"textarea\" placeholder=\"简介\" v-model=\"book.description\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"area\">\r\n                    <el-dropdown  style=\"width: 100%;\">\r\n                        <el-select v-model=\"book.campus\" placeholder=\"请选择校区\">\r\n                            <el-option label=\"四牌楼校区\" value=1 ></el-option>\r\n                            <el-option label=\"九龙湖校区\" value=2></el-option>\r\n                            <el-option label=\"丁家桥校区\" value=3></el-option>\r\n                        </el-select>\r\n                    </el-dropdown>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"价格\" v-model=\"book.price\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <template v-slot:footer>\r\n            <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit('form')\">确 定</el-button>\r\n            </span></template>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n.content{\r\n    margin: 10px auto;\r\n    width:1000px;\r\n    background-color: white;\r\n    padding: 30px 20px;\r\n}\r\nh1{\r\n    color: #757575;\r\n    font-family: 新宋体;\r\n}\r\n.box_info{\r\n    width: 960px;\r\n    margin: 10px auto;\r\n}\r\n.book_list{\r\n    width: 280px;\r\n    height: 180px;\r\n    border: 1px solid #cacaca;\r\n    display: inline-block;\r\n    margin-right: 20px;\r\n    margin-top: 20px;\r\n    padding: 20px;\r\n    vertical-align: top;\r\n}\r\n\r\n\r\n.img-uploader .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    background: #9a9a9a;\r\n    display: block;\r\n}\r\n\r\n.img-uploader .el-icon-plus {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    text-align: center;\r\n}\r\n\r\n.bookName{\r\n    width: 240px;\r\n    height: 40px;\r\n    font-size: 18px;\r\n}\r\n.author{\r\n    width: 240px;\r\n    height: 30px;\r\n    font-size: 14px;\r\n    color: #757575;\r\n}\r\n.Description{\r\n    width: 240px;\r\n    height: 30px;\r\n    font-size: 14px;\r\n    color: #757575;\r\n}\r\n.foot{\r\n    width: 240px;\r\n    height: 60px;\r\n    font-size: 14px;\r\n    color: #ff6700;\r\n    line-height: 60px;\r\n}\r\n.add{\r\n    width:80px;\r\n    height: 80px;\r\n    margin-top: 40px;\r\n    margin-left: 75px;\r\n    font-size: 30px;\r\n    color: #757575;\r\n    text-align: center;\r\n}\r\n\r\n\r\n</style>\r\n","import ajax from \"./ajax\";\r\n\r\n\r\nconst BASE_URL = 'http://localhost:8080'\r\n\r\n\r\n//添加书籍\r\nexport const reqAddBook = (book) => ajax(BASE_URL+'/addBook', {\r\n       name:book.name,\r\n       author:book.author,\r\n       isbn:book.isbn,\r\n       type:book.type,\r\n       description:book.description,\r\n       status:book.status,\r\n       campus:book.campus,\r\n       price:book.price,\r\n       recommend:book.recommend,\r\n}, 'POST')\r\n\r\n//修改书籍\r\nexport const reqModBook = (book) => ajax(BASE_URL+\"/modifyBook\",{\r\n    bookId:book.bookId,\r\n    image:book.image,\r\n    name:book.name,\r\n    author:book.author,\r\n    type:book.type,\r\n    description:book.description,\r\n    price:book.price,\r\n},'POST')\r\n\r\n//删除书籍\r\nexport const reqDelBook = (bookId) => ajax(BASE_URL+\"/delBook\",{bookId})\r\n\r\n//得到某个用户的书籍列表\r\nexport const reqGetBookList = () => ajax(BASE_URL+\"/getBookList\",{})\r\n\r\n","<script>\r\n\r\nexport default {\r\n    name:\"UploadBook\",\r\n    data() {\r\n        return {\r\n            imageUrl: '',\r\n            image:'',\r\n        };\r\n    },\r\n    methods: {\r\n        handleAvatarSuccess(res, file) {\r\n            this.imageUrl = URL.createObjectURL(file.raw);\r\n            console.log(this.imageUrl)\r\n            console.log(res)\r\n            this.image = res.data\r\n            console.log(res.data)\r\n\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isJPG = file.type === 'image/jpeg';\r\n            const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n            if (!isJPG) {\r\n                this.$message.error('上传书籍图片只能是 JPG 格式!');\r\n            }\r\n            if (!isLt2M) {\r\n                this.$message.error('上传书籍图片大小不能超过 2MB!');\r\n            }\r\n            return isJPG && isLt2M;\r\n        }\r\n    },\r\n    computed: {\r\n        headersJWT(){\r\n            const token=localStorage.getItem('token')\r\n            return{\r\n                Authorization:token\r\n            };\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<template>\r\n    <div>\r\n        <el-upload\r\n            class=\"avatar-uploader\"\r\n            action='http://localhost:8080/Upload'\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n            :headers=\"headersJWT\">\r\n            <span >上传书籍</span>\r\n            <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" alt=\"书籍封面\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style>\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n}\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n}\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./uploadBook.vue?vue&type=template&id=2f280eaf\"\nimport script from \"./uploadBook.vue?vue&type=script&lang=js\"\nexport * from \"./uploadBook.vue?vue&type=script&lang=js\"\n\nimport \"./uploadBook.vue?vue&type=style&index=0&id=2f280eaf&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\liguilin\\\\Desktop\\\\book_02\\\\book_02\\\\second_hand_book_trading_platform\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./bookStall.vue?vue&type=template&id=06029917&scoped=true\"\nimport script from \"./bookStall.vue?vue&type=script&lang=js\"\nexport * from \"./bookStall.vue?vue&type=script&lang=js\"\n\nimport \"./bookStall.vue?vue&type=style&index=0&id=06029917&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\liguilin\\\\Desktop\\\\book_02\\\\book_02\\\\second_hand_book_trading_platform\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06029917\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_5","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","$options","handleAdd","_Fragment","_renderList","$data","bookList","book","key","bookId","_hoisted_8","_createVNode","_component_el_image","src","_hoisted_9","name","_hoisted_10","_toDisplayString","TextForType","_hoisted_11","author","_hoisted_12","description","_hoisted_13","$event","delBook","_hoisted_14","handleMod","_component_el_dialog","title","dialogVisible","width","center","footer","_withCtx","_hoisted_15","_component_el_button","type","onSubmit","_component_el_form","ref","model","_component_upload_book","_component_el_form_item","_component_el_input","placeholder","isbn","_component_el_dropdown","_component_el_select","onChange","changeLable","_component_el_option","label","value","prop","campus","price","BASE_URL","reqAddBook","ajax","status","recommend","reqModBook","image","reqDelBook","reqGetBookList","_component_el_upload","action","handleAvatarSuccess","beforeAvatarUpload","headers","headersJWT","imageUrl","alt","data","methods","res","file","this","URL","createObjectURL","raw","console","log","isJPG","isLt2M","size","$message","error","computed","token","localStorage","getItem","Authorization","__exports__","components","UploadBook","isEdit","BookId","newProduct","sellerID","created","getBookList","mounted","$refs","bookPaper","modifyBook","addBook","$store","getters","getUser","account","then","response","code","message","catch","err","getAddressList","$confirm","confirmButtonText","cancelButtonText","render"],"sourceRoot":""}