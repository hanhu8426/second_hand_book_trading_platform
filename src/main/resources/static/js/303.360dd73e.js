"use strict";(self["webpackChunkbook_02"]=self["webpackChunkbook_02"]||[]).push([[303,746],{9746:function(e,s,l){l.r(s),l.d(s,{default:function(){return A}});var a=l(3396),t=l(7139);const o=e=>((0,a.dD)("data-v-b0dd256a"),e=e(),(0,a.Cn)(),e),d={class:"content"},i=o((()=>(0,a._)("h1",null,"收货地址",-1))),n={class:"box_info"},r={class:"address_list"},c=o((()=>(0,a._)("i",{class:"el-icon-edit"},null,-1))),u=o((()=>(0,a._)("p",{style:{"font-size":"14px"}},"添加新地址",-1))),m=[c,u],p={class:"name"},g={style:{float:"right","font-size":"14px",color:"#757575"}},h={class:"tel"},_={class:"detail"},b={class:"foot"},f=["onClick"],k=["onClick"],v={class:"dialog-footer"};function w(e,s,l,o,c,u){const w=(0,a.up)("el-input"),y=(0,a.up)("el-form-item"),U=(0,a.up)("el-form"),D=(0,a.up)("el-button"),I=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",d,[i,(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("div",{class:"add",onClick:s[0]||(s[0]=(...e)=>u.handleAdd&&u.handleAdd(...e))},m)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.addressList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"address_list",key:e.id},[(0,a._)("div",p,[(0,a.Uk)((0,t.zw)(e.name)+" ",1),(0,a._)("span",g,(0,t.zw)(e.label),1)]),(0,a._)("div",h,(0,t.zw)(e.phone),1),(0,a._)("div",_,(0,t.zw)(e.addr),1),(0,a._)("div",b,[(0,a._)("span",{style:{float:"right"},onClick:s=>u.delAddress(e.id)},"删除",8,f),(0,a._)("span",{style:{float:"right","margin-right":"10px"},onClick:s=>u.handleMod(e)},"修改",8,k)])])))),128))]),(0,a.Wm)(I,{title:"添加收货地址",value:c.dialogVisible,"onUpdate:value":s[7]||(s[7]=e=>c.dialogVisible=e),width:"30%",center:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{ref:"form",model:c.address},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"姓名",modelValue:c.address.name,"onUpdate:modelValue":s[1]||(s[1]=e=>c.address.name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"手机号",modelValue:c.address.phone,"onUpdate:modelValue":s[2]||(s[2]=e=>c.address.phone=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{type:"textarea",placeholder:"详细地址",modelValue:c.address.addr,"onUpdate:modelValue":s[3]||(s[3]=e=>c.address.addr=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"地址标签",modelValue:c.address.label,"onUpdate:modelValue":s[4]||(s[4]=e=>c.address.label=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,a._)("span",v,[(0,a.Wm)(D,{onClick:s[5]||(s[5]=e=>c.dialogVisible=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取 消")])),_:1}),(0,a.Wm)(D,{type:"primary",onClick:s[6]||(s[6]=e=>u.onSubmit("form"))},{default:(0,a.w5)((()=>[(0,a.Uk)("确 定")])),_:1})])])),_:1},8,["value"])])}var y=l(6789);const U="http://localhost:8080",D=e=>(0,y.Z)(U+"/addUserAddress",{account:e.account,name:e.name,phone:e.phone,addr:e.addr,label:e.label},"POST"),I=e=>(0,y.Z)(U+"/modifyUserAddress",{id:e.id,account:e.account,name:e.name,phone:e.phone,addr:e.addr,label:e.label},"POST"),T=e=>(0,y.Z)(U+"/delUserAddress",{id:e}),z=e=>(0,y.Z)(U+"/getUserAddress",{account:e});var x={name:"AddressPage",data(){return{dialogVisible:!1,isEdit:!1,addressList:[{id:1,account:"黄小龙",name:"小胖",phone:"18988798892",addr:"江西抚州市临川区西大街街道东华理工大学长江学院本部(330006)",label:"家",off:!1},{id:2,account:"黄小龙",name:"小胖",phone:"18988798892",addr:"江西抚州市临川区西大街街道东华理工大学长江学院本部(330006)",label:"家",off:!1}],address:{id:null,account:"黄小龙",name:"",phone:"",addr:"",label:""}}},methods:{handleAdd(){this.dialogVisible=!0,this.isEdit=!1},handleMod(e){this.dialogVisible=!0,this.isEdit=!0,this.address.id=e.id,this.address.account=e.account,this.address.name=e.name,this.address.phone=e.phone,this.address.addr=e.addr,this.address.label=e.label},onSubmit(e){this.isEdit?this.modifyAddress():this.addAddress(),this.$refs[e].validate((e=>{e?this.isEdit?this.modifyAddress():this.addAddress():this.$message.error("地址信息不符合要求，请重试")}))},getAddressList(){console.log("===获取的地址列表：==="+this.$store.getters.getUser.account+"====="),z(this.$store.getters.getUser.account).then((e=>{console.log(e),200==e.code?(this.addressList=e.addressList,console.log("===response.addressList.length==="+e.addressList.length)):this.$message({message:e.message,type:"warning"})})).catch((e=>{console.log(e)}))},addAddress(){D(this.address).then((e=>{console.log(e),200==e.code?(this.$message({message:e.message,type:"success"}),this.dialogVisible=!1,this.getAddressList()):this.$message({message:e.message,type:"warning"})})).catch((e=>{console.log(e)}))},modifyAddress(){I(this.address).then((e=>{console.log(e),200==e.code?(this.$message({message:e.message,type:"success"}),this.dialogVisible=!1,this.getAddressList()):this.$message({message:e.message,type:"warning"})})).catch((e=>{console.log(e)}))},delAddress(e){this.$confirm("是否要进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{T(e).then((e=>{console.log(e),200==e.code?(this.$message({message:e.message,type:"success"}),this.getAddressList()):this.$message({message:e.message,type:"warning"})})).catch((e=>{console.log(e)}))})).catch((()=>{console.log("取消删除了")}))}}},L=l(89);const V=(0,L.Z)(x,[["render",w],["__scopeId","data-v-b0dd256a"]]);var A=V},6303:function(e,s,l){l.r(s),l.d(s,{default:function(){return ce}});var a=l(3396),t=l(9242),o=l(7139);const d=e=>((0,a.dD)("data-v-101808e8"),e=e(),(0,a.Cn)(),e),i={class:"content"},n=d((()=>(0,a._)("h1",null,"我的订单",-1))),r={class:"box_info"},c={class:"tab_box"},u={class:"noMesInfo"},m={class:"tab_box"},p={class:"order_summary"},g={class:"order_status"},h={class:"caption-info"},_=d((()=>(0,a._)("span",null,"|",-1))),b=d((()=>(0,a._)("span",null,"|",-1))),f={style:{float:"right"}},k={class:"money"},v={class:"bookInfo"},w={class:"book_item"},y={class:"book_action"},U=["onClick"],D=d((()=>(0,a._)("br",null,null,-1))),I=d((()=>(0,a._)("button",{class:"plainBtn"},"申请售后",-1))),T=d((()=>(0,a._)("br",null,null,-1))),z=d((()=>(0,a._)("button",{class:"plainBtn"},"联系客服",-1))),x=d((()=>(0,a._)("br",null,null,-1))),L={class:"tab_box"},V={class:"noMesInfo"},A={class:"tab_box"},W={class:"noMesInfo"},P={class:"tab_box"},S={class:"order_summary"},C={class:"order_status"},$={class:"caption-info"},N=d((()=>(0,a._)("span",null,"|",-1))),B=d((()=>(0,a._)("span",null,"|",-1))),F={style:{float:"right"}},M={class:"money"},H={class:"bookInfo"},K={class:"book_item"},O=d((()=>(0,a._)("div",{class:"book_action"},[(0,a._)("button",{class:"plainBtn"},"订单详情"),(0,a._)("br"),(0,a._)("button",{class:"plainBtn"},"确认收货"),(0,a._)("br"),(0,a._)("button",{class:"plainBtn"},"联系客服"),(0,a._)("br")],-1))),Y={class:"tab_box"},Z={class:"noMesInfo"},E={class:"tab_box"},j={class:"order_summary"},q={class:"order_status"},G={class:"caption-info"},J=d((()=>(0,a._)("span",null,"|",-1))),Q=d((()=>(0,a._)("span",null,"|",-1))),R={style:{float:"right"}},X={class:"money"},ee={class:"bookInfo"},se={class:"book_item"},le=d((()=>(0,a._)("div",{class:"book_action"},[(0,a._)("button",{class:"plainBtn"},"订单详情"),(0,a._)("br"),(0,a._)("button",{class:"plainBtn"},"申请售后"),(0,a._)("br"),(0,a._)("button",{class:"plainBtn"},"联系客服"),(0,a._)("br")],-1))),ae={style:{margin:"10px 0 20px",width:"100%"}},te={class:"block",style:{float:"right"}};function oe(e,s,l,d,oe,de){const ie=(0,a.up)("el-image"),ne=(0,a.up)("el-tab-pane"),re=(0,a.up)("el-tabs"),ce=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",i,[n,(0,a._)("div",r,[(0,a.Wm)(re,{modelValue:oe.activeName,"onUpdate:modelValue":s[0]||(s[0]=e=>oe.activeName=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(ne,{label:"全部有效订单",name:"first"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",c,[(0,a.wy)((0,a._)("p",u,"暂无数据",512),[[t.F8,!0]])],512),[[t.F8,oe.total<1]]),(0,a.wy)((0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.orderList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"order_list",key:e.id},[(0,a._)("div",p,[(0,a._)("p",g,(0,o.zw)(e.orderStatus),1),(0,a._)("p",h,[(0,a.Uk)((0,o.zw)(e.orderTime)+" ",1),_,(0,a.Uk)(" "+(0,o.zw)(e.address.name)+" ",1),b,(0,a.Uk)(" 订单号："+(0,o.zw)(e.orderId)+" ",1),(0,a._)("span",f,[(0,a.Uk)("实付金额： "),(0,a._)("span",k,(0,o.zw)(e.expense.finallyPrice),1),(0,a.Uk)("元")])])]),(0,a._)("div",v,[(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.coverImgList,((e,s)=>((0,a.wg)(),(0,a.j4)(ie,{class:"bookImg",src:e,key:s,fit:"fill"},null,8,["src"])))),128))]),(0,a._)("div",y,[(0,a._)("button",{class:"plainBtn",onClick:s=>de.goToOrderDetail(e.id)},"订单详情",8,U),D,I,T,z,x])])])))),128))],512),[[t.F8,oe.total>0]])])),_:1}),(0,a.Wm)(ne,{label:"待支付",name:"second"},{default:(0,a.w5)((()=>[(0,a._)("div",L,[(0,a.wy)((0,a._)("p",V,"暂无数据",512),[[t.F8,!0]])])])),_:1}),(0,a.Wm)(ne,{label:"待收货",name:"third"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",A,[(0,a.wy)((0,a._)("p",W,"暂无数据",512),[[t.F8,!0]])],512),[[t.F8,oe.total<1]]),(0,a.wy)((0,a._)("div",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.orderList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"order_list",key:e.id},[(0,a._)("div",S,[(0,a._)("p",C,(0,o.zw)(e.orderStatus),1),(0,a._)("p",$,[(0,a.Uk)((0,o.zw)(e.orderTime)+" ",1),N,(0,a.Uk)(" "+(0,o.zw)(e.address.name)+" ",1),B,(0,a.Uk)(" 订单号："+(0,o.zw)(e.orderId)+" ",1),(0,a._)("span",F,[(0,a.Uk)("实付金额： "),(0,a._)("span",M,(0,o.zw)(e.expense.finallyPrice),1),(0,a.Uk)("元")])])]),(0,a._)("div",H,[(0,a._)("div",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.coverImgList,((e,s)=>((0,a.wg)(),(0,a.j4)(ie,{class:"bookImg",src:e,key:s,fit:"fill"},null,8,["src"])))),128))]),O])])))),128))],512),[[t.F8,oe.total>0]])])),_:1}),(0,a.Wm)(ne,{label:"订单回收站",name:"four"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",Y,[(0,a.wy)((0,a._)("p",Z,"暂无数据",512),[[t.F8,!0]])],512),[[t.F8,oe.total<1]]),(0,a.wy)((0,a._)("div",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(oe.orderList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"order_list",key:e.id},[(0,a._)("div",j,[(0,a._)("p",q,(0,o.zw)(e.orderStatus),1),(0,a._)("p",G,[(0,a.Uk)((0,o.zw)(e.orderTime)+" ",1),J,(0,a.Uk)(" "+(0,o.zw)(e.address.name)+" ",1),Q,(0,a.Uk)(" 订单号："+(0,o.zw)(e.orderId)+" ",1),(0,a._)("span",R,[(0,a.Uk)("实付金额： "),(0,a._)("span",X,(0,o.zw)(e.expense.finallyPrice),1),(0,a.Uk)("元")])])]),(0,a._)("div",ee,[(0,a._)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.coverImgList,((e,s)=>((0,a.wg)(),(0,a.j4)(ie,{class:"bookImg",src:e,key:s,fit:"fill"},null,8,["src"])))),128))]),le])])))),128))],512),[[t.F8,oe.total>0]])])),_:1})])),_:1},8,["modelValue"])]),(0,a.wy)((0,a._)("div",ae,[(0,a._)("div",te,[(0,a.Wm)(ce,{"current-page":oe.currentPage,"page-sizes":[5,10,20,50],"page-size":oe.page_size,background:"",layout:"total, sizes, prev, pager, next, jumper",total:oe.total},null,8,["current-page","page-size","total"])])],512),[[t.F8,oe.total>0]])])}l(7658);var de=l(9746),ie={name:"UserOrder",computed:{address(){return de["default"]}},data(){return{activeName:"first",currentPage:1,page_size:5,total:20,orderList:[{id:1,orderId:456,account:4544564,orderTime:44655,shipTime:45454,getTime:null,evaluateTime:null,closeTime:null,confirmTime:null,orderStatus:null,logisticsNum:null,coverImgList:[],orderDetailDtoList:[{book:{id:1,bookName:"黄文敬在南京",author:"李贵林",isbn:"4456456",publish:"东南南大学",birthday:"",marketPrice:"",price:"45",stock:"",description:"",put:!0,coverImg:"",rank:""},num:1,price:45}],expense:{orderId:1,productTotalMoney:null,freight:5,coupon:null,activityDiscount:null,allPrice:null,finallyPrice:null},address:{id:1,account:"黄小龙",name:"小胖",phone:"18988798892",addr:"江西抚州市临川区西大街街道东华理工大学长江学院本部(330006)",label:"家",off:!1}},{id:2,orderId:456,account:4544564,orderTime:44655,shipTime:45454,getTime:null,evaluateTime:null,closeTime:null,confirmTime:null,orderStatus:null,logisticsNum:null,coverImgList:[],orderDetailDtoList:[{book:{id:2,bookName:"黄文敬在南京",author:"李贵林",isbn:"4456456",publish:"东南南大学",birthday:"",marketPrice:"",price:"45",stock:"",description:"",put:!0,coverImg:"",rank:""},num:1,price:45}],expense:{orderId:2,productTotalMoney:null,freight:5,coupon:null,activityDiscount:null,allPrice:null,finallyPrice:null},address:{id:2,account:"黄小龙",name:"小胖",phone:"18988798892",addr:"江西抚州市临川区西大街街道东华理工大学长江学院本部(330006)",label:"家",off:!1}},{id:3,orderId:456,account:4544564,orderTime:44655,shipTime:45454,getTime:null,evaluateTime:null,closeTime:null,confirmTime:null,orderStatus:null,logisticsNum:null,coverImgList:[],orderDetailDtoList:[{book:{id:3,bookName:"黄文敬在南京",author:"李贵林",isbn:"4456456",publish:"东南南大学",birthday:"",marketPrice:"",price:"45",stock:"",description:"",put:!0,coverImg:"",rank:""},num:1,price:45}],expense:{orderId:3,productTotalMoney:null,freight:5,coupon:null,activityDiscount:null,allPrice:null,finallyPrice:null},address:{id:3,account:"黄小龙",name:"小胖",phone:"18988798892",addr:"江西抚州市临川区西大街街道东华理工大学长江学院本部(330006)",label:"家",off:!1}}],orderStatus:"",beUserDelete:!1}},created(){},methods:{handleClick(e,s){switch(console.log("=====this.activeName===="+this.activeName+"======="),this.activeName){case"first":this.orderStatus="",this.beUserDelete=!1;break;case"third":this.orderStatus="已发货",this.beUserDelete=!1;break;case"four":this.orderStatus="",this.beUserDelete=!0;break}console.log("=====this.orderStatus====="+this.orderStatus+"======"),this.getOrderList(1,5)},goToOrderDetail(e){console.log("=====跳转到订单详情页========"),this.$router.push({path:"/user/userOrderDetail",query:{id:e}})}}},ne=l(89);const re=(0,ne.Z)(ie,[["render",oe],["__scopeId","data-v-101808e8"]]);var ce=re}}]);
//# sourceMappingURL=303.360dd73e.js.map