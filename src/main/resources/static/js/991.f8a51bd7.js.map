{"version":3,"file":"js/991.f8a51bd7.js","mappings":"iPA6MSA,MAAM,W,UACPC,EAAAA,EAAAA,GAAa,UAAT,QAAI,K,GACHD,MAAM,Y,GACFA,MAAM,a,UAEHC,EAAAA,EAAAA,GAA4B,KAAzBD,MAAM,gBAAc,W,UACvBC,EAAAA,EAAAA,GAAqC,KAAlCC,MAAA,sBAAwB,UAAM,K,GADjCC,EACAC,G,GAICJ,MAAM,a,GAGNA,MAAM,Y,GACDE,MAAA,oD,GAELF,MAAM,U,GACNA,MAAM,e,GACNA,MAAM,Q,+BAyBTA,MAAM,iB,wNA3CpBK,EAAAA,EAAAA,IAiDM,MAjDNC,EAiDM,CAhDFC,GACAN,EAAAA,EAAAA,GAqBM,MArBNO,EAqBM,EApBFP,EAAAA,EAAAA,GAKM,MALNQ,EAKM,EAJFR,EAAAA,EAAAA,GAGM,OAHDD,MAAM,MAAOU,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,WAAAD,EAAAC,aAAAF,K,oBAK7BP,EAAAA,EAAAA,IAaMU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAbgCC,EAAAC,UAARC,K,WAA9Bd,EAAAA,EAAAA,IAaM,OAbDL,MAAM,YAAsCoB,IAAKD,EAAKE,Q,EACvDpB,EAAAA,EAAAA,GAEM,MAFNqB,EAEM,EADFC,EAAAA,EAAAA,IAAmDC,EAAA,CAAxCC,IAAI,cAAY,C,kBAAC,IAAY,UAAZ,mB,SAEhCxB,EAAAA,EAAAA,GAEM,MAFNyB,EAEM,mBAFkBP,EAAKQ,MAAM,IAC/B,IAAA1B,EAAAA,EAAAA,GAA+E,OAA/E2B,GAA+EC,EAAAA,EAAAA,IAAlBV,EAAKW,MAAI,MAE1E7B,EAAAA,EAAAA,GAAyC,MAAzC8B,GAAyCF,EAAAA,EAAAA,IAAnBV,EAAKa,QAAM,IACjC/B,EAAAA,EAAAA,GAAmD,MAAnDgC,GAAmDJ,EAAAA,EAAAA,IAAxBV,EAAKe,aAAW,IAC3CjC,EAAAA,EAAAA,GAGM,MAHNkC,EAGM,EAFFlC,EAAAA,EAAAA,GAA2D,QAArDC,MAAA,gBAAsBQ,QAAK0B,GAAEvB,EAAAwB,QAAQlB,IAAO,KAAE,EAAAmB,IACpDrC,EAAAA,EAAAA,GAAgF,QAA1EC,MAAA,sCAAyCQ,QAAK0B,GAAEvB,EAAA0B,UAAUpB,IAAO,KAAE,EAAAqB,U,SAMrFjB,EAAAA,EAAAA,IAqBYkB,EAAA,CArBDC,MAAM,S,WAAkBzB,EAAA0B,c,qCAAA1B,EAAA0B,cAAaP,GAAEQ,MAAM,MAAOC,OAAA,I,CAgB1CC,QAAMC,EAAAA,EAAAA,KACvB,IAGO,EAHP9C,EAAAA,EAAAA,GAGO,OAHP+C,EAGO,EAFXzB,EAAAA,EAAAA,IAAyD0B,EAAA,CAA7CvC,QAAKC,EAAA,KAAAA,EAAA,GAAAyB,GAAEnB,EAAA0B,eAAgB,I,mBAAO,IAAG,UAAH,U,OAC1CpB,EAAAA,EAAAA,IAAmE0B,EAAA,CAAxDnB,KAAK,UAAWpB,QAAKC,EAAA,KAAAA,EAAA,GAAAyB,GAAEvB,EAAAqC,SAAS,U,mBAAS,IAAG,UAAH,U,6BAlBhD,IAcU,EAdV3B,EAAAA,EAAAA,IAcU4B,EAAA,CAdDC,IAAI,OAAQC,MAAOpC,EAAAE,M,mBACxB,IAA2D,EAA3DI,EAAAA,EAAAA,IAA2D+B,EAAA,CAA/CF,IAAI,YAAa1C,QAAOG,EAAA0C,U,qBACpChC,EAAAA,EAAAA,IAEeiC,EAAA,M,kBADX,IAA0D,EAA1DjC,EAAAA,EAAAA,IAA0DkC,EAAA,CAAhDC,YAAY,K,WAAczC,EAAAE,KAAKQ,K,qCAALV,EAAAE,KAAKQ,KAAIS,I,iCAEjDb,EAAAA,EAAAA,IAEeiC,EAAA,M,kBADX,IAA0D,EAA1DjC,EAAAA,EAAAA,IAA0DkC,EAAA,CAAhDC,YAAY,K,WAAczC,EAAAE,KAAKW,K,qCAALb,EAAAE,KAAKW,KAAIM,I,iCAEjDb,EAAAA,EAAAA,IAEeiC,EAAA,M,kBADX,IAAiF,EAAjFjC,EAAAA,EAAAA,IAAiFkC,EAAA,CAAvE3B,KAAK,WAAW4B,YAAY,K,WAAczC,EAAAE,KAAKe,Y,qCAALjB,EAAAE,KAAKe,YAAWE,I,iCAExEb,EAAAA,EAAAA,IAEeiC,EAAA,M,kBADX,IAA2D,EAA3DjC,EAAAA,EAAAA,IAA2DkC,EAAA,CAAjDC,YAAY,K,WAAczC,EAAAE,KAAKwC,M,qCAAL1C,EAAAE,KAAKwC,MAAKvB,I,gKCzO5CpC,MAAM,qC,UAChBC,EAAAA,EAAAA,GAAmB,YAAb,UAAM,K,wEAXpBI,EAAAA,EAAAA,IAaM,aAZFkB,EAAAA,EAAAA,IAWYqC,EAAA,CAVJ5D,MAAM,kBACN6D,OAAO,mCACN,kBAAgB,EAChB,YAAWhD,EAAAiD,iBACX,aAAYjD,EAAAkD,oBACZ,gBAAelD,EAAAmD,mBACfC,QAASpD,EAAAqD,Y,mBACd,IAA+D,CAApDjD,EAAAkD,WAAQ,WAAnB9D,EAAAA,EAAAA,IAA+D,O,MAAzCoB,IAAKR,EAAAkD,SAAUnE,MAAM,SAASoE,IAAI,Q,wBACxD/D,EAAAA,EAAAA,IAAwD,IAAxDE,IACAC,K,+DAMZ,OACImB,KAAM,aACN0C,OACI,MAAO,CACHF,SAAU,GAElB,EACAG,QAAS,CACLP,oBAAoBQ,EAAKC,GACrBC,KAAKN,SAAWO,IAAIC,gBAAgBH,EAAKI,KACzCC,QAAQC,IAAIL,KAAKN,SACrB,EACAH,mBAAmBQ,GACf,MAAMO,EAAsB,eAAdP,EAAK1C,KACbkD,EAASR,EAAKS,KAAO,KAAO,KAAO,EAQzC,OANKF,GACDN,KAAKS,SAASC,MAAM,qBAEnBH,GACDP,KAAKS,SAASC,MAAM,qBAEjBJ,GAASC,CACpB,EACAlB,mBACIe,QAAQC,IAAI,SAChB,GAEJM,SAAU,CACNlB,aACI,MAAMmB,EAAMC,aAAaC,QAAQ,SACjC,MAAM,CACFC,cAAcH,EAEtB,I,QC7CR,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,UCPA,MAAMC,EAAW,wBAIJC,EAAcxE,IAASyE,EAAAA,EAAAA,GAAKF,EAAS,aAAc,CACzDG,MAAM1E,EAAK0E,MACXlE,KAAKR,EAAKQ,KACVG,KAAKX,EAAKW,KACVI,YAAYf,EAAKe,YACjByB,MAAMxC,EAAKwC,OACf,QAGUmC,EAAc3E,IAASyE,EAAAA,EAAAA,GAAKF,EAAS,cAAc,CAC5D/D,KAAKR,EAAKQ,KACVG,KAAKX,EAAKW,KACVI,YAAYf,EAAKe,YACjByB,MAAMxC,EAAKwC,OACb,QAGWoC,EAAc1E,IAAWuE,EAAAA,EAAAA,GAAKF,EAAS,WAAW,CAACrE,WAGnD2E,EAAiBA,KAAMJ,EAAAA,EAAAA,GAAKF,EAAS,eAAe,CAAC,GHvBlE,OACI/D,KAAM,cACNsE,WAAY,CAACC,WAAUA,GACvB7B,OACI,MAAO,CACH1B,eAAe,EACfwD,QAAQ,EACRjF,SAAU,CACN,CACIkF,OAAQ,EACRzE,KAAM,UACNK,OAAQ,MACRqE,KAAM,GACNvE,KAAM,KACNI,YAAa,yBACboE,OAAQ,GACRT,MAAO,GACPU,OAAQ,GACR5C,MAAO,KACP6C,WAAY,GACZC,UAAW,GACXC,SAAU,IAEd,CACIrF,OAAQ,EACRM,KAAM,WACNK,OAAQ,MACRqE,KAAM,GACNvE,KAAM,KACNI,YAAa,GACboE,OAAQ,GACRT,MAAO,GACPU,OAAQ,GACR5C,MAAO,GACP6C,WAAY,GACZC,UAAW,GACXC,SAAU,KAKlBvF,KAAM,CACFE,OAAQ,GACRM,KAAM,GACNK,OAAQ,GACRqE,KAAM,GACNvE,KAAM,GACNI,YAAa,GACboE,OAAQ,GACRT,MAAO,GACPU,OAAQ,GACR5C,MAAO,GACP6C,WAAY,GACZC,UAAW,GACXC,SAAU,IAGtB,EAKApC,QAAS,CAELxD,YACI2D,KAAK9B,eAAgB,EACrB8B,KAAK0B,QAAS,CAClB,EAEA5D,UAAUpB,GACNsD,KAAK9B,eAAgB,EACrB8B,KAAK0B,QAAS,EACd1B,KAAKtD,KAAKE,OAASF,EAAKwF,MACxBlC,KAAKtD,KAAK0E,MAAQ1E,EAAK0E,MACvBpB,KAAKtD,KAAKa,OAASb,EAAKa,OACxByC,KAAKtD,KAAKW,KAAOX,EAAKW,KACtB2C,KAAKtD,KAAKe,YAAYf,EAAKe,YAC3BuC,KAAKtD,KAAKwC,MAAMxC,EAAKwC,KACzB,EAGAT,WACQuB,KAAK0B,OACL1B,KAAKmC,aAELnC,KAAKoC,SAEb,EAGAC,cACIjC,QAAQC,IAAI,iBAAmBL,KAAKsC,OAAOC,QAAQC,QAAQC,QAAU,SACrElB,IAAiBmB,MAAKC,IAElB,GADAvC,QAAQC,IAAIsC,GACc,GAAtBA,EAAS/C,KAAKgD,KAAW,CACzB,IAAInG,EAAWkG,EAAS/C,KAAKA,KAC7BQ,QAAQC,IAAI5D,GACZuD,KAAKvD,SAAWA,CACpB,MACIuD,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,WAEd,IACDyF,OAAMC,IACL3C,QAAQC,IAAI0C,EAAI,GAExB,EAGAX,QAAQY,GACJhD,KAAKiD,MAAMD,GAAUE,UAAUC,IACvBA,GACAjC,EAAWlB,KAAKtD,MAAMgG,MAAKC,IACvBvC,QAAQC,IAAIsC,GACc,GAAtBA,EAAS/C,KAAKgD,MACd5C,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,YAEV2C,KAAK9B,eAAgB,EACrB8B,KAAKoD,kBAELpD,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,WAEd,IACDyF,OAAMC,IACL3C,QAAQC,IAAI0C,EAAI,GAExB,GAER,EAIAZ,aACId,EAAWrB,KAAKtD,MAAMgG,MAAKC,IACvBvC,QAAQC,IAAIsC,GACc,GAAtBA,EAAS/C,KAAKgD,MACd5C,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,YAEV2C,KAAK9B,eAAgB,EACrB8B,KAAKoD,kBAELpD,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,WAEd,IACDyF,OAAMC,IACL3C,QAAQC,IAAI0C,EAAI,GAExB,EAEAnF,QAAQhB,GACJoD,KAAKqD,SAAS,aAAc,KAAM,CAC9BC,kBAAmB,KACnBC,iBAAkB,KAClBlG,KAAM,YACPqF,MAAK,KACJpB,EAAW1E,GAAQ8F,MAAKC,IACpBvC,QAAQC,IAAIsC,GACc,GAAtBA,EAAS/C,KAAKgD,MACd5C,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,YAEV2C,KAAKoD,kBAELpD,KAAKS,SAAS,CACVoC,QAASF,EAASE,QAClBxF,KAAM,WAEd,IACDyF,OAAMC,IACL3C,QAAQC,IAAI0C,EAAI,GAClB,IACHD,OAAM,KACL1C,QAAQC,IAAI,QAAQ,GAE5B,EAEAvB,WACIkB,KAAKtD,KAAK0E,MAAMpB,KAAKiD,MAAMO,UAAU9D,QACzC,IIxLR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS+D,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://book_02/./src/components/UserHome/bookStall/bookStall.vue","webpack://book_02/./src/components/Common/Upload_2.vue","webpack://book_02/./src/components/Common/Upload_2.vue?1ad4","webpack://book_02/./src/api/bookStall.js","webpack://book_02/./src/components/UserHome/bookStall/bookStall.vue?61b9"],"sourcesContent":["<script>\r\nimport UploadPage from \"@/components/Common/Upload_2.vue\";\r\nimport {reqAddBook, reqDelBook, reqGetBookList, reqModBook} from \"@/api/bookStall\";\r\nexport default {\r\n    name: \"AddressPage\",\r\n    components: {UploadPage},\r\n    data() {\r\n        return {\r\n            dialogVisible: false,\r\n            isEdit: false,//用来判断是添加书还是修改书 false:添加 true:修改\r\n            bookList: [\r\n                {\r\n                    BookId: 1,\r\n                    name: \"黄哥的恋爱节奏\",\r\n                    author: \"黄文敬\",\r\n                    isbn: \"\",\r\n                    type: \"文学\",\r\n                    description: \"讲述了黄哥的恋爱心路历程，惊心动魄，感人肺腑\",\r\n                    status: \"\",\r\n                    image: \"\",\r\n                    campus: \"\",\r\n                    price: \"25\",\r\n                    newProduct: \"\",\r\n                    recommend: \"\",\r\n                    sellerID: \"\",\r\n                },\r\n                {\r\n                    bookId: 2,\r\n                    name: \"算出来的秘密爱情\",\r\n                    author: \"胡丹婷\",\r\n                    isbn: \"\",\r\n                    type: \"小说\",\r\n                    description: \"\",\r\n                    status: \"\",\r\n                    image: \"\",\r\n                    campus: \"\",\r\n                    price: \"\",\r\n                    newProduct: \"\",\r\n                    recommend: \"\",\r\n                    sellerID: \"\",\r\n                },\r\n\r\n            ],\r\n\r\n            book: {\r\n                bookId: '',\r\n                name: \"\",\r\n                author: \"\",\r\n                isbn: \"\",\r\n                type: \"\",\r\n                description: \"\",\r\n                status: \"\",\r\n                image: \"\",\r\n                campus: \"\",\r\n                price: \"\",\r\n                newProduct: \"\",\r\n                recommend: \"\",\r\n                sellerID: \"\",\r\n            },\r\n        };\r\n    },\r\n    //初始化构建组件\r\n    // created(){\r\n    //     this.getBookList();\r\n    // },\r\n    methods: {\r\n        //处理添加操作\r\n        handleAdd() {\r\n            this.dialogVisible = true;\r\n            this.isEdit = false;\r\n        },\r\n        //处理修改\r\n        handleMod(book) {\r\n            this.dialogVisible = true;\r\n            this.isEdit = true;\r\n            this.book.bookId = book.addId;\r\n            this.book.image = book.image;\r\n            this.book.author = book.author;\r\n            this.book.type = book.type;\r\n            this.book.description=book.description;\r\n            this.book.price=book.price;\r\n        },\r\n\r\n        //提交处理\r\n        onSubmit() {\r\n            if (this.isEdit) {\r\n                this.modifyBook();\r\n            } else {\r\n                this.addBook();\r\n            }\r\n        },\r\n\r\n        //得到用户书籍列表\r\n        getBookList() {\r\n            console.log(\"===获取的书籍列表：===\" + this.$store.getters.getUser.account + \"=====\");\r\n            reqGetBookList().then(response => {\r\n                console.log(response);\r\n                if (response.data.code == 1) {\r\n                    let bookList = response.data.data\r\n                    console.log(bookList)\r\n                    this.bookList = bookList\r\n                } else {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"warning\"\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        },\r\n\r\n        //添加地址\r\n        addBook(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    reqAddBook(this.book).then(response => {\r\n                        console.log(response);\r\n                        if (response.data.code == 1) {\r\n                            this.$message({\r\n                                message: response.message,\r\n                                type: \"success\"\r\n                            });\r\n                            this.dialogVisible = false;\r\n                            this.getAddressList();\r\n                        } else {\r\n                            this.$message({\r\n                                message: response.message,\r\n                                type: \"warning\"\r\n                            })\r\n                        }\r\n                    }).catch(err => {\r\n                        console.log(err);\r\n                    })\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        //修改书籍\r\n        modifyBook() {\r\n            reqModBook(this.book).then(response => {\r\n                console.log(response);\r\n                if (response.data.code == 1) {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"success\"\r\n                    });\r\n                    this.dialogVisible = false;\r\n                    this.getAddressList();\r\n                } else {\r\n                    this.$message({\r\n                        message: response.message,\r\n                        type: \"warning\"\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        },\r\n        //处理删除地址\r\n        delBook(bookId) {\r\n            this.$confirm('是否要进行删除操作?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                reqDelBook(bookId).then(response => {\r\n                    console.log(response);\r\n                    if (response.data.code == 1) {\r\n                        this.$message({\r\n                            message: response.message,\r\n                            type: \"success\"\r\n                        });\r\n                        this.getAddressList();\r\n                    } else {\r\n                        this.$message({\r\n                            message: response.message,\r\n                            type: \"warning\"\r\n                        })\r\n                    }\r\n                }).catch(err => {\r\n                    console.log(err);\r\n                })\r\n            }).catch(() => {\r\n                console.log(\"取消删除了\");\r\n            });\r\n        },\r\n\r\n        getPaper(){\r\n            this.book.image=this.$refs.bookPaper.imageUrl\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n<template>\r\n    <div class=\"content\">\r\n        <h1>我的书摊</h1>\r\n        <div class=\"box_info\">\r\n            <div class=\"book_list\">\r\n                <div class=\"add\" @click=\"handleAdd\">\r\n                    <i class=\"el-icon-edit\"></i>\r\n                    <p style=\"font-size: 14px\">添加新的书籍</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"book_list\" v-for=\"book in bookList\" :key=\"book.bookId\">\r\n                <div class=\"bookCover\">\r\n                    <el-image  src=\"book.image\"> alt=\"书籍封面\"></el-image>\r\n                </div>\r\n                <div class=\"bookName\">{{book.name}}\r\n                    <span style=\"float: right;font-size: 14px;color: #757575;\">{{book.type}}</span>\r\n                </div>\r\n                <div class=\"author\">{{book.author}}</div>\r\n                <div class=\"Description\">{{book.description}}</div>\r\n                <div class=\"foot\">\r\n                    <span style=\"float: right\" @click=\"delBook(book)\">删除</span>\r\n                    <span style=\"float: right;margin-right: 10px\" @click=\"handleMod(book)\">修改</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!--添加图书的弹出框-->\r\n        <el-dialog title=\"添加新的书籍\" v-model=\"dialogVisible\" width=\"50%\"  center>\r\n            <el-form ref=\"form\" :model=\"book\">\r\n                <UploadPage ref=\"bookPaper\" @click=\"getPaper\"></UploadPage>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"书名\" v-model=\"book.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"类别\" v-model=\"book.type\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input type=\"textarea\" placeholder=\"简介\" v-model=\"book.description\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-input placeholder=\"价格\" v-model=\"book.price\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <template v-slot:footer>\r\n            <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmit('form')\">确 定</el-button>\r\n            </span></template>\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n\r\n.content{\r\n    margin: 10px auto;\r\n    width:1000px;\r\n    background-color: white;\r\n    padding: 30px 20px;\r\n}\r\nh1{\r\n    color: #757575;\r\n    font-family: 新宋体;\r\n}\r\n.box_info{\r\n    width: 960px;\r\n    margin: 10px auto;\r\n}\r\n.book_list{\r\n    width: 280px;\r\n    height: 180px;\r\n    border: 1px solid #cacaca;\r\n    display: inline-block;\r\n    margin-right: 20px;\r\n    margin-top: 20px;\r\n    padding: 20px;\r\n    vertical-align: top;\r\n}\r\n\r\n\r\n.img-uploader .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    background: #9a9a9a;\r\n    display: block;\r\n}\r\n\r\n.img-uploader .el-icon-plus {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    text-align: center;\r\n}\r\n\r\n.bookName{\r\n    width: 240px;\r\n    height: 40px;\r\n    font-size: 18px;\r\n}\r\n.author{\r\n    width: 240px;\r\n    height: 30px;\r\n    font-size: 14px;\r\n    color: #757575;\r\n}\r\n.Description{\r\n    width: 240px;\r\n    height: 30px;\r\n    font-size: 14px;\r\n    color: #757575;\r\n}\r\n.foot{\r\n    width: 240px;\r\n    height: 60px;\r\n    font-size: 14px;\r\n    color: #ff6700;\r\n    line-height: 60px;\r\n}\r\n.add{\r\n    width:80px;\r\n    height: 80px;\r\n    margin-top: 40px;\r\n    margin-left: 75px;\r\n    font-size: 30px;\r\n    color: #757575;\r\n    text-align: center;\r\n}\r\n\r\n\r\n</style>\r\n","<template>\r\n    <div>\r\n        <el-upload\r\n                class=\"avatar-uploader\"\r\n                action=\"http://localhost:8080/uploadBook\"\r\n                :show-file-list=\"true\"\r\n                :on-remove=\"handleAvatarFail\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                :headers=\"headersJWT\">\r\n            <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" alt=\"图片详情\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            <span>书籍封面上传</span>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"UploadPage\",\r\n    data() {\r\n        return {\r\n            imageUrl: ''\r\n        };\r\n    },\r\n    methods: {\r\n        handleAvatarSuccess(res, file) {\r\n            this.imageUrl = URL.createObjectURL(file.raw);\r\n            console.log(this.imageUrl);\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isJPG = file.type === 'image/jpeg';\r\n            const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n            if (!isJPG) {\r\n                this.$message.error('上传头像图片只能是 JPG 格式!');\r\n            }\r\n            if (!isLt2M) {\r\n                this.$message.error('上传头像图片大小不能超过 2MB!');\r\n            }\r\n            return isJPG && isLt2M;\r\n        },\r\n        handleAvatarFail(){\r\n            console.log(\"文件已被移动\")\r\n        }\r\n    },\r\n    computed: {\r\n        headersJWT(){\r\n            const token=localStorage.getItem('token')\r\n            return{\r\n                Authorization:token\r\n            };\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-uploader{\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.avatar-uploader{\r\n    border-color: #409EFF;\r\n    background: #9a9a9a;\r\n}\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n}\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n\r\n}\r\n</style>\r\n","import { render } from \"./Upload_2.vue?vue&type=template&id=f978d582&scoped=true\"\nimport script from \"./Upload_2.vue?vue&type=script&lang=js\"\nexport * from \"./Upload_2.vue?vue&type=script&lang=js\"\n\nimport \"./Upload_2.vue?vue&type=style&index=0&id=f978d582&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\liguilin\\\\Desktop\\\\book_02\\\\book_02\\\\second_hand_book_trading_platform\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f978d582\"]])\n\nexport default __exports__","import ajax from \"./ajax\";\r\n\r\nconst BASE_URL = 'http://localhost:8080'\r\n\r\n\r\n//添加书籍\r\nexport const reqAddBook = (book) => ajax(BASE_URL+'/bookStall', {\r\n       image:book.image,\r\n       name:book.name,\r\n       type:book.type,\r\n       description:book.description,\r\n       price:book.price,\r\n}, 'POST')\r\n\r\n//修改书籍\r\nexport const reqModBook = (book) => ajax(BASE_URL+\"/modifyBook\",{\r\n    name:book.name,\r\n    type:book.type,\r\n    description:book.description,\r\n    price:book.price,\r\n},'POST')\r\n\r\n//删除书籍\r\nexport const reqDelBook = (bookId) => ajax(BASE_URL+\"/delBook\",{bookId})\r\n\r\n//得到某个用户的书籍列表\r\nexport const reqGetBookList = () => ajax(BASE_URL+\"/getBookList\",{})\r\n","import { render } from \"./bookStall.vue?vue&type=template&id=75b109e9&scoped=true\"\nimport script from \"./bookStall.vue?vue&type=script&lang=js\"\nexport * from \"./bookStall.vue?vue&type=script&lang=js\"\n\nimport \"./bookStall.vue?vue&type=style&index=0&id=75b109e9&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\liguilin\\\\Desktop\\\\book_02\\\\book_02\\\\second_hand_book_trading_platform\\\\front\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75b109e9\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_5","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","$options","handleAdd","_Fragment","_renderList","$data","bookList","book","key","bookId","_hoisted_8","_createVNode","_component_el_image","src","_hoisted_9","name","_hoisted_10","_toDisplayString","type","_hoisted_11","author","_hoisted_12","description","_hoisted_13","$event","delBook","_hoisted_14","handleMod","_hoisted_15","_component_el_dialog","title","dialogVisible","width","center","footer","_withCtx","_hoisted_16","_component_el_button","onSubmit","_component_el_form","ref","model","_component_UploadPage","getPaper","_component_el_form_item","_component_el_input","placeholder","price","_component_el_upload","action","handleAvatarFail","handleAvatarSuccess","beforeAvatarUpload","headers","headersJWT","imageUrl","alt","data","methods","res","file","this","URL","createObjectURL","raw","console","log","isJPG","isLt2M","size","$message","error","computed","token","localStorage","getItem","Authorization","__exports__","BASE_URL","reqAddBook","ajax","image","reqModBook","reqDelBook","reqGetBookList","components","UploadPage","isEdit","BookId","isbn","status","campus","newProduct","recommend","sellerID","addId","modifyBook","addBook","getBookList","$store","getters","getUser","account","then","response","code","message","catch","err","formName","$refs","validate","valid","getAddressList","$confirm","confirmButtonText","cancelButtonText","bookPaper","render"],"sourceRoot":""}